<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MicroBot  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="MicroBot  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">MicroBot Docs</a> (47% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">MicroBot Reference</a>
        <img id="carat" src="img/carat.png" />
        MicroBot  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/MIBAuth.html">MIBAuth</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBGadget.html">MIBGadget</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBGadgetManager.html">MIBGadgetManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBHub.html">MIBHub</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBHubManager.html">MIBHubManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBMessage.html">MIBMessage</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBSession.html">MIBSession</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBStorage.html">MIBStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBUser.html">MIBUser</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MIBUserManager.html">MIBUserManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MicroBot.html">MicroBot</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/GadgetTopic.html">GadgetTopic</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/HubTopic.html">HubTopic</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/UserTopic.html">UserTopic</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/MicroBotDelegate.html">MicroBotDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AnyResponse.html">AnyResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs.html#/s:8MicroBot8MIBErrorV">MIBError</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='microbot-swift-getting-started' class='heading'>MicroBot Swift Getting Started</h1>
<h2 id='overview' class='heading'>Overview</h2>

<p>This document contains a description of initial setup and basic function usage when developing Swift.</p>
<h2 id='history' class='heading'>History</h2>

<ul>
<li>2019-02-22

<ul>
<li>Overall changes have been made.</li>
</ul></li>
<li>2019-02-27

<ul>
<li>Released version 0.0.2 of Framework</li>
<li>stabilize</li>
<li>Changed the wrong function name

<ul>
<li>mibReceivedGadgetEvenet -&gt; mibReceivedGadgetEvent</li>
</ul></li>
<li>Updated the api document</li>
</ul></li>
<li>2019-04-02

<ul>
<li>Released version 0.0.3 of Framework</li>
<li>stabilize</li>
<li>add hub property - <q>status</q> value</li>
<li>Updated the api document</li>
</ul></li>
<li>2019-04-19

<ul>
<li>Update Screenshot about MiB Console</li>
<li>add gadget property - tags value</li>
<li>add update tags api</li>
</ul></li>
<li>2019-04-25

<ul>
<li>Released version 0.0.4 of Framework</li>
</ul></li>
</ul>
<h2 id='step' class='heading'>Step</h2>

<ol>
<li><a href="#Prerequisites">Prerequisites</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a></li>
</ol>
<h2 id='prerequisites' class='heading'>Prerequisites</h2>

<p>Before you begin, you need to set up a few things in your environment:</p>

<ul>
<li>Xcode 10.0 is recommended and supports more than 9.0.</li>
<li>iOS 12 is recommended, and 10 or more support is available.</li>
<li>Swift projects must use Swift 4.1 or later</li>
<li>The bundle identifier of your app</li>
<li>For MicroBot:

<ul>
<li>A physical Gadget &amp; iOS device</li>
<li>An Apple Push Notification Authentication Key for your Apple Developer account</li>
</ul></li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h4 id='cocoapods' class='heading'>CocoaPods</h4>

<ul>
<li>Comming Soon</li>
</ul>
<h4 id='manually' class='heading'>Manually</h4>

<ol>
<li>Download the MicroBot Swift-SDK (<a href="https://github.com/thenaran/document/blob/master/microbot-swift/release/0.0.2/MicroBot.framework.zip">Download</a>)</li>
<li>Unzip the downloaded SDK and move the Framework file to the project folder.</li>
<li><p>In Build Phases, click the [+] button in the Link Binary Libraries item.</p>

<p><img src="res/import_manually_1.png" alt=" "></p></li>
<li><p>Click [Add Other &hellip;]</p>

<p><img src="res/import_manually_2.png" alt=" "></p></li>
<li><p>Select the Framework you copied in the project folder.</p>

<p><img src="res/import_manually_3.png" alt=" "></p></li>
<li><p>In General, click the [+] button in the Embedded Binaries item.</p>

<p><img src="res/import_manually_4.png" alt=" "></p></li>
<li><p>Select MicroBot.framework under Frameworks and add it.</p>

<p><img src="res/import_manually_5.png" alt=" "></p></li>
</ol>
<h2 id='configuration' class='heading'>Configuration</h2>
<h4 id='configuring-apns' class='heading'>Configuring APNs</h4>

<ol>
<li>Please refer to the following link to create and configure APNS.

<ul>
<li>Link : <a href="https://medium.com/@ankushaggarwal/generate-apns-certificate-for-ios-push-notifications-85e4a917d522">Link</a></li>
</ul></li>
<li><p>Go to the MiB Console and Select the [Management] menu at the bottom left. Then select the [Organization] - [Notification Key] tab and click the [Register IOS] button.</p>

<p><img src="res/notification_ios.png" alt=" "></p></li>
<li><p>Fill in the following items. Fill in all and register.</p>

<ul>
<li>State : Choose whether to be for development or for commercial use.</li>
<li>Bundle ID : Fill in the generated app id. This is the hub type.</li>
<li>Password : p12 Fill in the password entered during the authentication process.</li>
<li>Allow List : You can use the selected Product Model from a hub that uses Bundle ID.</li>
<li>File : Select the created p12 file.</li>
</ul>

<p><img src="res/noti_ios.png" alt=" "></p></li>
</ol>
<h4 id='configuring-capabilities-in-your-project' class='heading'>Configuring Capabilities in your project</h4>

<ol>
<li><p>Turn on the Background of the Capabilities.</p>

<p><img src="res/capabilities_background_1.png" alt=" "></p></li>
<li><p>Check &lsquo;Uses Bluetooth LE accessories&rsquo; and &lsquo;Remote notifications&rsquo;</p>

<p><img src="res/capabilities_background_2.png" alt=" "></p></li>
<li><p>Turn on the Push Notifications of the Capabilities.</p>

<p><img src="res/capabilities_push_noti_1.png" alt=" "></p></li>
<li><p>Check that the turn on</p>

<p><img src="res/capabilities_push_noti_2.png" alt=" "></p></li>
</ol>
<h4 id='add-your-product-keys' class='heading'>Add Your Product Keys</h4>

<p>You need to add a product key to communicate with gadgets. Follow the steps below to add the product key.</p>

<ol>
<li><p>Access the MiB console and go to [Dev] - [Product] - [General]. Copy the Product ID and Product Key values shown on the screen.</p>

<p><img src="res/console_product_key.png" alt=" "></p></li>
<li><p>Click the [+] button on the Information Property List of the info.plist file and fill in the key value of ProductKeys.</p>

<p><img src="res/create_product_key.png" alt=" "></p></li>
<li><p>Change the Type of ProductKeys that you added to Dicionary. Then add an item to the bottom of ProductKeys to fill the Product Key with Product ID and Value with Product Key..</p>

<p><img src="res/pinfo_product_key.png" alt=" "></p></li>
</ol>
<h2 id='usage' class='heading'>Usage</h2>
<h4 id='initialize' class='heading'>Initialize</h4>
<pre class="highlight swift"><code><span class="c1">// Import MicroBot in your UIApplicationDelegate</span>
<span class="kd">import</span> <span class="kt">MicroBot</span>

<span class="c1">// Send push notification to MicroBot for handle requests from the MicroBot Cloud</span>
<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didReceiveRemoteNotification</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">],</span>
                 <span class="n">fetchCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">UIBackgroundFetchResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">MicroBot</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="nf">digestNotification</span><span class="p">(</span><span class="n">userInfo</span><span class="p">)</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="p">(</span><span class="n">void</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">completionHandler</span><span class="p">(</span><span class="kt">UIBackgroundFetchResult</span><span class="o">.</span><span class="n">newData</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// APNs token for MicroBot Cloud</span>
<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didRegisterForRemoteNotificationsWithDeviceToken</span> <span class="nv">deviceToken</span><span class="p">:</span> <span class="kt">Data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"APNs token retrieved: </span><span class="se">\(</span><span class="n">deviceToken</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="kt">MicroBot</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">deviceToken</span>
<span class="p">}</span>

</code></pre>
<h4 id='receive-events' class='heading'>Receive Events</h4>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MicroBot</span>

<span class="kd">class</span> <span class="kt">EventReciever</span><span class="p">:</span> <span class="kt">MicroBotDelegate</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="kt">MicroBot</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">mibReceivedAuthEvent</span><span class="p">(</span><span class="n">_</span> <span class="nv">user</span><span class="p">:</span> <span class="kt">MIBUser</span><span class="p">,</span> <span class="nv">topic</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Recieved event from </span><span class="se">\(</span><span class="n">user</span><span class="se">)</span><span class="s"> user. topic: </span><span class="se">\(</span><span class="n">topic</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">mibReceivedGadgetEvenet</span><span class="p">(</span><span class="n">_</span> <span class="nv">gadget</span><span class="p">:</span> <span class="kt">MIBGadget</span><span class="p">,</span> <span class="nv">topic</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Recieved event from gadget. topic: </span><span class="se">\(</span><span class="n">topic</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">mibReceivedHubEvent</span><span class="p">(</span><span class="n">_</span> <span class="nv">hub</span><span class="p">:</span> <span class="kt">MIBHub</span><span class="p">,</span> <span class="nv">topic</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Received event from hub. topic: </span><span class="se">\(</span><span class="n">topic</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>

<span class="p">}</span>

</code></pre>
<h4 id='authorize-user' class='heading'>Authorize User</h4>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MicroBot</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">auth</span><span class="p">(</span><span class="n">_</span> <span class="nv">email</span><span class="p">:</span> <span class="kt">String</span><span class="p">){</span>
        <span class="c1">// Request user authroization to MicroBot Cloud. Email is required</span>
        <span class="kt">MicroBot</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="nf">authorize</span><span class="p">(</span><span class="n">email</span><span class="p">)</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">userId</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span> <span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"email: </span><span class="se">\(</span><span class="n">email</span><span class="se">)</span><span class="s">, userId: </span><span class="se">\(</span><span class="n">userId</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Recieve an authroization event from MicroBotDelegate</span>
    <span class="kd">func</span> <span class="nf">mibReceivedAuthEvent</span><span class="p">(</span><span class="n">_</span> <span class="nv">user</span><span class="p">:</span> <span class="kt">MIBUser</span><span class="p">,</span> <span class="nv">topic</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Recieved event from </span><span class="se">\(</span><span class="n">user</span><span class="se">)</span><span class="s"> user. topic: </span><span class="se">\(</span><span class="n">topic</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">topic</span> <span class="o">==</span> <span class="s">"authorized"</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="se">)</span><span class="s"> is authroized."</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">topic</span> <span class="o">==</span> <span class="s">"unauthorized"</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="se">)</span><span class="s"> is unauthorized."</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<h4 id='scan-gadgets' class='heading'>Scan Gadgets</h4>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">selectedScanButton</span><span class="p">()</span> <span class="p">{</span>
        <span class="kt">MicroBot</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">gadgets</span><span class="o">.</span><span class="nf">scan</span><span class="p">()</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">let</span> <span class="nv">gadget</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="o">!</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Scaned gadget name : </span><span class="se">\(</span><span class="n">gadget</span><span class="o">.</span><span class="n">name</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='pair-and-unpair-with-the-gadget' class='heading'>Pair and Unpair with The Gadget</h4>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MicroBot</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">pair</span><span class="p">(</span><span class="n">_</span> <span class="nv">gadget</span><span class="p">:</span> <span class="kt">MIBGadget</span><span class="p">,</span> <span class="nv">otp</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">gadget</span><span class="o">.</span><span class="nf">pair</span><span class="p">(</span><span class="nv">otpSecret</span><span class="p">:</span> <span class="n">otp</span><span class="p">)</span><span class="o">.</span><span class="nf">done</span><span class="p">({</span> <span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Try pair result: </span><span class="se">\(</span><span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">unpair</span><span class="p">(</span><span class="n">_</span> <span class="nv">gadget</span><span class="p">:</span> <span class="kt">MIBGadget</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">gadget</span><span class="o">.</span><span class="nf">unpair</span><span class="p">()</span><span class="o">.</span><span class="nf">done</span><span class="p">({</span> <span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Try unpair result: </span><span class="se">\(</span><span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="c1">// Recieve a pair event from MicroBotDelegate</span>
    <span class="kd">func</span> <span class="nf">mibReceivedGadgetEvent</span><span class="p">(</span><span class="n">_</span> <span class="nv">gadget</span><span class="p">:</span> <span class="kt">MIBGadget</span><span class="p">,</span> <span class="nv">topic</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">topic</span> <span class="o">==</span> <span class="s">"paired"</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Paired with new gadget: </span><span class="se">\(</span><span class="n">gadget</span><span class="o">.</span><span class="n">name</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">topic</span> <span class="o">==</span> <span class="s">"unpaired"</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Unpaired with gadget: </span><span class="se">\(</span><span class="n">gadget</span><span class="o">.</span><span class="n">name</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<h4 id='call-an-endpoint-of-the-gadget' class='heading'>Call an Endpoint of The Gadget</h4>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MicroBot</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">press</span><span class="p">(</span><span class="n">_</span> <span class="nv">gadget</span><span class="p">:</span> <span class="kt">MIBGadget</span><span class="p">,</span> <span class="nv">otp</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">pinNumber</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Call an endpoint of Gadget</span>
       <span class="n">gadget</span><span class="o">.</span><span class="nf">callEndpoint</span><span class="p">(</span><span class="n">otp</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"set_pin"</span><span class="p">,</span> <span class="nv">args</span><span class="p">:</span> <span class="n">pinNumber</span><span class="p">)</span><span class="o">.</span><span class="n">done</span> <span class="p">{</span> <span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="k">in</span>
           <span class="nf">print</span><span class="p">(</span><span class="s">"set_pin result: </span><span class="se">\(</span><span class="kt">String</span><span class="p">(</span><span class="nv">describing</span><span class="p">:</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
       <span class="p">)}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://thenaran.com/" target="_blank" rel="external">Naran Inc.</a>. All rights reserved. (Last updated: 2019-04-25)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
