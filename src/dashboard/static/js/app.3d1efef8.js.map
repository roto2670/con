{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/services/constant.js","webpack:///./src/components/map.vue?3687","webpack:///./src/App.vue?e00e","webpack:///./src/components/map.vue?2e4f","webpack:///./src/services/services.js","webpack:///./src/services/beacon-detector.js","webpack:///./src/services/util.js","webpack:///src/components/map.vue","webpack:///./src/components/map.vue?27d6","webpack:///./src/components/map.vue?c39f","webpack:///./src/components/top.vue?d0c2","webpack:///src/components/top.vue","webpack:///./src/components/top.vue?acb2","webpack:///./src/components/top.vue?9127","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/components/top.vue?0ada"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","CONSTANTS","HUB_VIEW","NOT_IN_MAP","IN_MAP","URL","BASE_IMG","YOUR_CLOUD","CONSOLE","GADGET_INFO","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","MINIMUM_NUMBER","HUB","FILTERED_BEACONS","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_map_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_map_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","id","directives","rawName","expression","staticClass","_m","on","map-load","handleMapLoad","staticRenderFns","mapvue_type_template_id_60c7c61e_render","_e","mapvue_type_template_id_60c7c61e_staticRenderFns","updateIpcamData","ipcam","successCallback","failCallback","axios","post","cam","headers","Content-Type","then","e","console","debug","catch","setHubLocation","hub","readyCallback","getInfo","url","method","responseType","response","log","error","warn","getIpcams","getHubs","getHubListConnectedToGadget","gadgetId","dataObj","_","isArray","getBeacons","product_id","getDetectBeaconList","hubId","getGadget","getMapFiles","baseImageUrl","location","protocol","host","getBeaconImg","target","res","v","img_url","postMapFile","file","formData","FormData","append","instance","BeaconDetector","constructor","vm","detectedCallback","_timers","isRunning","_detectedCallback","_failCallback","check_threshold","info","start","isNumber","interval","setInterval","_refreshBeacons","stop","_clearTimer","hubList","$store","getters","getHubsWhichIsInMap","viewLength","cnt","isEmpty","services","bcnData","commit","forEach","view","detectedGadgetList","err","timer","clearInterval","util","methods","isNaN","mapvue_type_script_lang_js_","[object Object]","map","zoomLv","layer","hubLayer","workerLayer","camLayer","ipcams","contextCoordinate","infoWindow","hubInfoWindow","ipcamInfoWindow","gadgetInfoNumber","keys","selectFilteredBeaconsUpdateBefore","selectFilteredBeaconsUpdateAfter","bcns","bcnsData","hubsData","options","items","markerMap","hubs","gadgets","cams","showLoading","maptalks_es","center","zoom","maxZoom","minZoom","maxExtent","zoomAnimation","zoomInCenter","panAnimation","dragRotate","dragPitch","drgaRotatePitch","touchGesture","touchZoom","touchRotate","touchPitch","touchZoomRotate","doubleClickZoom","baseLayer","extent","opactiy","once","addTo","setZIndex","initContextMenu","loadHubs","loadIpCams","initBeaconLocationHandler","hideLoading","beaconDetector","beacon_detector_BeaconDetector","remove","clone","hubData","getHub","removeGadgetMarkersWhenHubIsMoved","hasSameGadget","drawWorkers","custom","map_location","contextMenuOption","item","click","handleAddHub","handleAddIPCam","contextMenu","setMenu","openMenu","closeMenu","coordinate","bcndata","_loadHubs","haslocationHubs","drawHub","beacons","showhubList","selectedId","selectedCallback","geometry","x","y","visible","itemObj","index","has","marker","getZoom","symbol","markerFile","markerWidth","markerHeight","ZIndex","showHubInfoWindow","_updateHubLocation","loadGadgets","str","document","getElementsByClassName","innerHTML","text","replace","onclick","closeInfoWindow","config","_coordinates","updateSymbol","hubMarker","noop","gadgetList","getdetectedGadgetList","gadget","gid","includes","hubIdList","without","gadgetMarkers","context","getBeaconWithHubs","getdetectedGadgetName","setInfoWindow","content","width","openInfoWindow","_infoWindow","gadgetData","getElementById","showGadgetInFoWindow","removeHubMarker","values","count","beacon","customLocation","tags","first","hide","markerCache","gadgetKind","hubName","bottom","el","imgElement","src","ipcamData","drawIpCams","showIpCamList","drawIpcam","camList","ipcamId","getIpCams","fileUrl","is_visible_moi","showIpcamWindow","_updateIpcamData","store","checked","onchange","style","height","playerId","Date","getTime","div","createElement","setAttribute","runtimePlayers","appendChild","password","ip","vxgplayer","controls","nmf_path","nmf_src","ready","play","player","onError","onChange","removeIpcamMarker","ipcamMarker","extend","hubLocation","gadgetLocation","distratio","second","hubInfo","hid","dist","size","hubid","Math","abs","sameGadgetList","sameGadgetListSize","gadgetCount","gadgetid","setGadgetLocation","bcn","show","workerNum","toString","bgChangeWorker","bgChangeWorkerTab","getCenter","filterBeacons","autoPan","autoCloseOn","autoOpenOn","InfoWindow","refilterBeacons","setFilteredBeacons","$emit","computed","mapUrl","EventBus","$on","zoomIn","zoomOut","initloadMap","mixins","components_mapvue_type_script_lang_js_","component","componentNormalizer","topvue_type_template_id_455a40a2_render","filter","$event","$refs","ref","type","accept","change","onFileChange","topvue_type_template_id_455a40a2_staticRenderFns","_v","topvue_type_script_lang_js_","files","submitFile","getMapFile","reload","components_topvue_type_script_lang_js_","top_component","components_top","Appvue_type_script_lang_js_","components","Map","Top","isLoaded","src_Appvue_type_script_lang_js_","App_component","App","Vue","use","Vuex","Store","state","detectedgadgets","forInfohubs","drawnHubs","detectedGadgetId","mutations","addHubs","payload","HubIsInMap","HubIsNotInMap","addDetectedGadget","addDetectedHubGadget","detectedGadget","uuid","beacon_spec","major","minor","account_id","find","addHubLocation","addGadgetLocation","isUndefined","pick","GadgetIsInMap","GadgetIsnotInMap","removeGadgets","delete","removeHubs","addIpcams","__webpack_exports__","$http","productionTip","VueLodash","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_top_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_top_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.3d1efef8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","window.CONSTANTS = {\n    HUB_VIEW : {\n        NOT_IN_MAP : 0,\n        IN_MAP : 1\n    },\n    URL : {\n        BASE_IMG: 'static/location/imgs/',\n        YOUR_CLOUD : 'https://c2.prota.space', \n        // CONSOLE : 'http://127.0.0.1:5000'\n        CONSOLE : ''\n    },\n    GADGET_INFO: {\n        1: \"JUMBO DRILL(2B)\",\n        2: \"JUMBO DRILL(3B)\",\n        3: \"CHARGING CAR\",\n        4: \"WHEEL LOADER\",\n        5: \"DUMP TRUCK\",\n        6: \"EXCAVATOR(WHEEL)\",\n        7: \"EXCAVATOR(CRAWLER)\",\n        8: \"SHOTCRETE MACHINE\",\n        9: \"JCB\",\n        10: \"CORE DRILLING MACHINE\",\n        11: \"DOZER\",\n        12: \"GROUTING MACHINE\",\n        13: \"MAI PUMP\",\n        14: \"MOBILE PRODUCTION UNIT\",\n        15: \"CHARGING PUMP UNIT\",\n        16: \"BUS\"\n    },\n    MINIMUM_NUMBER : {\n        HUB : 1,\n        FILTERED_BEACONS : 16\n    }\n};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"locationTracking\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoaded),expression:\"isLoaded\"}],staticClass:\"loading\"},[_vm._m(0)]),_c('Top'),_c('Map',{on:{\"map-load\":_vm.handleMapLoad}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-loader\"},[_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isEmptyUrl)?_c('div',{attrs:{\"id\":_vm.id}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\n\n// TODO: readyCallback -> sucessCallback, failCallback\n\nexport const updateIpcamData = (ipcam, successCallback, failCallback) => {\n  axios\n  .post(window.CONSTANTS.URL.CONSOLE + '/dash/cam/location', {'cam': ipcam}, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n  })\n  .then(e => {\n    console.debug(`Sucess to post cam location in id ${ipcam.id}`);\n    successCallback();\n  })\n  .catch(e => {\n    failCallback();\n  }); \n}\n\nexport const setHubLocation = (hub, readyCallback) => {\n  axios\n  .post(window.CONSTANTS.URL.CONSOLE + '/dash/hubs/location', {'hub': hub}, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n  })\n  .then(e => {\n    readyCallback();\n  })\n  .catch(e => {\n    readyCallback();\n  });\n}\n\nexport const getInfo = (readyCallback) => {\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/location/info',\n    method: 'GET',\n    responseType: 'text' // important\n  }).then(response => {\n    if (!!response.data) {\n      readyCallback(response.data);\n    } else {\n      console.log('File is not exist')\n      readyCallback();\n    }\n  }).catch(error => {\n    console.warn(\"Failed to get info \", error);\n    readyCallback();\n  });\n}\n\nexport const getIpcams = (readyCallback) => {\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/cam/list/ipcam',\n    method: 'GET',\n    responseType: 'text' // important\n  }).then(response => {\n    if(!!response.data) {\n      readyCallback(response.data);\n    } else {\n      console.log('Ipcam does not exist');\n      readyCallback([]);\n    }\n  }).catch(error => {\n    console.warn(\"Failed to get ipCams\", error);\n    readyCallback([]);\n  }) \n}\n\nexport const getHubs = (readyCallback) => {\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/scanner/list',\n    method: 'GET',\n    responseType: 'text' // important\n  }).then(response => {\n    if (!!response.data) {\n      readyCallback(response.data);\n    } else {\n      console.log('File is not exist')\n      readyCallback([]);\n    }\n  }).catch(error => {\n    console.warn(\"Failed to get hubs \", error);\n    readyCallback([]);\n  });\n}\n\nexport const getHubListConnectedToGadget = (gadgetId, readyCallback) => {\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/hubs/detected/' + gadgetId,\n    method: 'GET',\n    responseType: 'text' // important\n  }).then(response => {\n    const dataObj = response.data;\n    if (!!dataObj && _.isArray(dataObj.data)) {\n      readyCallback(dataObj);\n    } else {\n      console.log(\"fail to load connectedGadget\");\n      readyCallback({});\n    }\n  }).catch(error => {\n    console.warn(\"Failed to get hub list connected to gadget \", error);\n    readyCallback({});\n  });\n}\n\nexport const getBeacons = (product_id, readyCallback) => {\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/beacons/list/' + product_id,\n    method: 'GET',\n    responseType: 'text' // important\n  }).then(response => {\n    if (!!response.data) {\n      readyCallback(response.data);\n    } else {\n      console.log('beacon is not exist')\n      readyCallback([]);\n    }\n  }).catch(error => {\n    console.warn(\"Failed to get beacons \", error);\n    readyCallback([]);\n  });\n}\n\nexport const getDetectBeaconList = (hubId, successCallback, failCallback) => {\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/beacons/detected/' + hubId,\n    method: 'GET',\n    responseType: 'text' // important\n  }).then(response => {\n    const dataObj = response.data;\n    if (!!dataObj && _.isArray(dataObj.data)) {\n      successCallback(dataObj.data);\n    } else {\n      failCallback('not exist');\n    }\n  }).catch(error => {\n    failCallback(error);\n  });\n}\n\nexport const getGadget = (gadgetId, successCallback, failCallback) => { // TODO: force reload?\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dash/beacons/' + gadgetId,\n    method: 'GET',\n    responseType: 'text'\n  }).then(response => {\n    if (response.data) {\n      successCallback(response.data);\n  } else {\n      failCallback(`Failed to get gadget, id: ${gadgetId}`); // TODO: server error\n    }\n  }).catch(error => {\n    failCallback(error);\n  });\n}\n\nexport const getMapFiles = (readyCallback) => {\n  const baseImageUrl = window.CONSTANTS.URL.BASE_IMG + 'map.png';\n  axios({\n    url: window.CONSTANTS.URL.CONSOLE + '/dashboard/location/view',\n    method: 'GET',\n    responseType: 'text'\n  }).then(response => {\n    if(response.data) {\n      console.log('Success to Get map image file')\n      readyCallback(window.location.protocol + '//' + window.location.host + response.data);\n    } else {\n      console.log('Sorry, Img file does not exist');\n      readyCallback(baseImageUrl);\n    }\n  }).catch(error => {\n    console.warn(\"Failed to get map file \", error);\n    readyCallback(baseImageUrl);\n  });\n}\n\nexport const getBeaconImg = (gadgetId, successCallback, failCallback) => {\n  var target = window.CONSTANTS.URL.YOUR_CLOUD + '/mib/v1/sense/' + gadgetId;\n  axios({\n    method: 'GET',\n    headers: {\n        // 'Src': accountId + '.'\n    },\n    url: target\n  }).then(res => {\n    if (res && res.data) {\n      successCallback(res.data.v.img_url);\n    } else {\n      failCallback();\n    }\n  }).catch(error => {\n    failCallback(error);\n  });\n}\n\nexport const postMapFile = (file, successCallback, failCallback) => {\n  let formData = new FormData()\n  if(file) {\n    formData.append('file', file)\n    axios\n      .post(window.CONSTANTS.URL.CONSOLE + '/dashboard/location/upload', formData, {\n          headers: {\n              'Content-Type': 'multiart/form-data'\n          }\n      })\n      .then(e => {\n          console.log('Success to Upload map image file');\n          successCallback('http://' + window.location.host + e.data);\n      })\n      .catch(e => {\n        failCallback(e);\n      });\n  } else {\n    failCallback();\n  }\n}","import * as services from '@/services/services'\n\nlet instance = null;\nexport class BeaconDetector {\n    constructor(vm, detectedCallback, failCallback) {\n        if (instance) {\n            return instance;\n        }\n\n        this._timers = [];\n        this.isRunning = false;\n        this._vm = vm;\n        this._detectedCallback = detectedCallback || function() {};\n        this._failCallback = failCallback || function() {};\n        this.check_threshold = null;\n        this.info = null;\n        instance = this;\n    }\n\n    start(info) {\n        this.info = info;\n        if (this.isRunning) {\n            this.isRunning = true;\n        }\n        if (_.isNumber(this.info.interval)) {\n            this.check_threshold = this.info.interval * 1000;\n        } else {\n            this.check_threshold = 60 * 1000;\n        }\n        this._timers.push(setInterval(() => {\n            this._refreshBeacons();\n        }, this.check_threshold));\n    \n        console.info('Beacon detector started');\n    }\n\n    stop() {\n        this._clearTimer();\n        this.isRunning = false;\n\n        console.info('Beacon detector stopped');\n    }\n\n    _refreshBeacons() {\n        let hubList = this._vm.$store.getters.getHubsWhichIsInMap,\n            viewLength = 0,\n            cnt = 0;\n        if (!_.isEmpty(hubList)) {\n            services.getBeacons(this.info.product_id, (bcnData) => {\n                this._vm.$store.commit('removeGadgets');\n                this._vm.$store.commit('removeHubs'); \n                this._vm.$store.commit('addDetectedGadget', bcnData);\n                _.forEach(hubList, (hub) => {\n                    if (hub.view === window.CONSTANTS.HUB_VIEW.IN_MAP) {\n                        viewLength++;\n                        services.getDetectBeaconList(hub.id, (detectedGadgetList) => {\n                            cnt++;\n                            this._vm.$store.commit('addDetectedHubGadget', detectedGadgetList);\n                            if (cnt === viewLength) {\n                                this._detectedCallback(console.debug('Success to update'));\n                            } \n                        }, (err) => {\n                            this._failCallback(err);\n                        });\n                    }\n                })\n            }, (err) => {\n                this._failCallback(err);\n            })\n        }\n    }\n\n    _clearTimer() {\n        this._.forEach(this._timers, (timer) => {\n            try {\n                clearInterval(timer);\n            } catch (error) {\n                console.warn('Failed to clear detector timer.', error);\n            }\n        });\n\n        this._timers = [];\n    }\n}\n","export default {\n    methods: {\n        isNumber : (value) => (!_.isNaN(value) && _.isNumber(value))\n    }\n}\n","<template>\n<div :id=\"id\" v-if=\"isEmptyUrl\">\n</div>\n</template>\n<script>\nimport * as maptalks from 'maptalks'\nimport * as beaconDetector from '@/services/beacon-detector';\nimport util from '@/services/util';\nimport { EventBus } from \"../main\";\nimport { setTimeout } from 'timers';\nexport default {\n    name: 'Map',\n    data() {\n        return {\n            id: 'map',\n            map: null,\n            url: '',\n            zoomLv: '',\n            layer: '',\n            hubLayer: '',\n            workerLayer: '',\n            camLayer: '',\n            ipcam: '',\n            ipcams: [],\n            contextCoordinate: null,\n            infoWindow: null,\n            hubInfoWindow: null,\n            ipcamInfoWindow: null,\n            gadgetInfoNumber: this._.keys(window.CONSTANTS.GADGET_INFO),\n            selectFilteredBeaconsUpdateBefore: this._.keys(window.CONSTANTS.GADGET_INFO),\n            selectFilteredBeaconsUpdateAfter: this._.keys(window.CONSTANTS.GADGET_INFO),\n            bcns: {},\n            bcnsData: {},\n            hubsData: {},\n            options: {\n                items: []\n            },\n            markerMap: {\n                hubs: {},\n                gadgets: {},\n                cams: {}\n            }\n        }\n    },\n    methods: {\n        initloadMap() {\n            this.showLoading();\n            this.services.getMapFiles((url) => {\n                // Options\n                // http://maptalks.org/maptalks.js/api/0.x/Map.html#options\n                this.map = new maptalks.Map(this.id, {\n                    center: [90, 50],\n                    zoom: 6,\n                    maxZoom: 9,\n                    minZoom: 4,\n                    // Extent\n                    // http://maptalks.org/maptalks.js/api/0.x/Extent.html\n                    maxExtent: new maptalks.Extent(5, 5, 170, 80),\n                    zoomAnimation: false,\n                    zoomInCenter: true,\n                    panAnimation: false,\n                    dragRotate: false,\n                    dragPitch: false,\n                    drgaRotatePitch: false,\n                    touchGesture: false,\n                    touchZoom: false,\n                    touchRotate: false,\n                    touchPitch: false,\n                    touchZoomRotate: false,\n                    doubleClickZoom: false,\n                    // Image Layer\n                    // http://maptalks.org/maptalks.js/api/0.x/ImageLayer.html\n                    baseLayer: new maptalks.ImageLayer(\"base\", [{\n                        url: url,\n                        extent: [0, 0, 180, 85],\n                        opactiy: 1\n                    }], {\n                        opactiy: 1\n                    })\n                });\n                this.map.once('baselayerload', () => {\n                    // this._.first(document.getElementsByClassName('loader')).remove();\n                    this.layer = new maptalks.VectorLayer('vector').addTo(this.map);\n                    this.hubLayer = new maptalks.VectorLayer('vector1').addTo(this.map);\n                    this.workerLayer = new maptalks.VectorLayer('vector2').addTo(this.map);\n                    this.camLayer = new maptalks.VectorLayer('vector3').addTo(this.map);\n                    this.hubLayer.setZIndex(3);\n                    this.workerLayer.setZIndex(1);\n                    this.initContextMenu();\n                    this.services.getInfo((info) => {\n                        if (!!info) {\n                            this.loadHubs(info);\n                            this.loadIpCams();\n                            this.initBeaconLocationHandler(info);\n                        }\n                        this.hideLoading();\n                    });\n                });\n                // TODO:\n                //this.setIpcam();\n            });\n        },\n        initBeaconLocationHandler(info, successCallback, failCallback) {\n            // run beacon detector.\n            this.beaconDetector = new beaconDetector.BeaconDetector(this, () => {\n                let hubs = this.$store.getters.getHubsWhichIsInMap;\n                if (!!this.hubInfoWindow) {\n                    this.hubInfoWindow.remove();\n                }\n                if (!this._.isEmpty(this.infoWindow)) {\n                    this.infoWindow.remove();\n                }\n                this.selectFilteredBeaconsUpdateAfter = this._.clone(this.selectFilteredBeaconsUpdateBefore);\n                if (!this._.isEmpty(hubs)) {\n                    let hubData = {};\n                    this._.forEach(hubs, (hub) => {\n                        hubData[hub.id] = this.$store.getters.getHub(hub.id);\n                        this.removeGadgetMarkersWhenHubIsMoved(hub.id); \n                    });\n                    this.hasSameGadget(() => {\n                        this._.forEach(hubData, (hub ,hubId) => {\n                            this.drawWorkers(hubId, hub.custom.map_location);\n                        });\n                    }, (err) => {\n                        failCallback(err);\n                    });\n                } else {\n                    console.warn(`There is no hub id, so we cannot update hub data`);\n                }\n            }, (err) => {\n                console.warn(`There's no data to update`);\n            });\n        \n            // start\n            this.beaconDetector.start(info);\n        },\n        initContextMenu() {\n            this.contextMenuOption = {\n                'items': [{\n                    item: 'Add Scanner',\n                    click: this.handleAddHub\n                }\n                ,\n                '-',{\n                    item: 'Add IPCAM',\n                    click: this.handleAddIPCam\n                }\n                ]\n            };\n            // Create context menu\n            this.contextMenu = this.map.setMenu(this.contextMenuOption).openMenu();\n            // Default option is show, so hide here\n            this.map.closeMenu();\n\n            // Init EventHandler\n            this.map.on('contextmenu', (e) => {\n                this.contextCoordinate = e.coordinate;\n                this.map.openMenu(e.coordinate);\n            });\n        },\n        loadHubs(info) {\n            console.debug('Try load hubs');\n            // TODO: product id list?\n            this.services.getBeacons(info.product_id, (bcndata) => {\n                this.$store.commit('addDetectedGadget', bcndata);\n                this._loadHubs();\n            });\n        },\n        _loadHubs() {\n           let hubs = this.services.getHubs((hubList) => {\n                // Store hubs.\n                this.$store.commit('addHubs', hubList); // TODO; move to services?\n\n                // draw hub if has location data.\n                const haslocationHubs = this.$store.getters.getHubs;\n                this._.forEach(haslocationHubs, (hub) => {\n                    if (!_.isEmpty(hub.custom)) {\n                        this.drawHub(hub.id, hub.custom.map_location);\n                    }\n                });\n            });\n        },\n        loadGadgets(hubId, successCallback, failCallback) {\n            this.services.getDetectBeaconList(hubId, (beacons) => {\n                this.$store.commit('addDetectedHubGadget', beacons);\n                this.hasSameGadget(successCallback);\n            }, (err) => {\n                failCallback(err);\n            });\n        },\n        handleAddHub(e) {\n            // show hub List\n            this.showhubList((selectedId) => {\n                this.map.closeMenu(selectedId);\n                // draw hub\n                this.drawHub(selectedId, this.contextCoordinate);\n            })\n        },\n        showhubList(selectedCallback) {\n            this.map.closeMenu();\n            // TODO\n            this.services.getHubs((hubList) => {\n                this.$store.commit('addHubs', hubList);\n                // Clear old hub list view\n                this.options.items = []; // TODO: destory for GC?\n                let geometry = new maptalks.Marker([this.contextCoordinate.x, this.contextCoordinate.y], {\n                    visible: false\n                }).addTo(this.hubLayer);\n                if (!this._.isEmpty(hubList)) {\n                    this._.forEach(hubList, (hub, index) => {\n                        if (!this._.has(this.markerMap.hubs, hub.id)) {\n                            // draw only no location hubs.\n                            if (!!!hub.custom || !!!hub.custom.map_location) {\n                                let itemObj = {\n                                    item: hub.name,\n                                    click: () => {\n                                        selectedCallback(hub.id);\n                                    }\n                                }\n                                if (hubList.length - index > 1) {\n                                    this.options.items.push(itemObj, '-');\n                                } else {\n                                    this.options.items.push(itemObj);\n                                }\n                            } else {\n                                console.debug(`The ${hub.name} hub has location data. so skip`);\n                            }\n                        }\n                    });\n                    if (this._.isEmpty(this.options.items)) {\n                        let itemObj = {\n                            item: \"No Scanner\",\n                            click: () => {\n                            }\n                        }\n                        this.options.items.push(itemObj);\n                    }\n                    geometry.setMenu(this.options).openMenu();\n                } else {\n                    let itemObj = {\n                        item: \"No Scanner to load\"\n                    }\n                    this.options.items.push(itemObj);\n                    geometry.setMenu(this.options).openMenu();\n                }\n            },\n            function(error) {\n                console.warn('Failed to load hub list.');\n            });\n        },\n        /*\n        hubDataList = {id: String, coordinate: Coordonate}\n        */\n        drawHub(hubId, coordinate) {\n            console.debug('Try draw hub, id: ', hubId);\n            let marker = null;\n            this.zoomLv = 50 * (this.map.getZoom() / 11);\n            marker = new maptalks.Marker(\n                [coordinate.x, coordinate.y], {\n                    'symbol': {\n                        markerFile: window.CONSTANTS.URL.BASE_IMG + 'icon-hub-tab.svg',\n                        markerWidth: this.zoomLv,\n                        markerHeight: this.zoomLv,\n                    },\n                    'ZIndex': 3\n                }\n            ).addTo(this.hubLayer); \n            marker.on('click', () => {\n                this.showHubInfoWindow(hubId, marker);\n            })\n            this.markerMap.hubs[hubId] = marker;\n            this._updateHubLocation(hubId, coordinate.x, coordinate.y, () => {\n                this.$store.commit('HubIsInMap', hubId);\n                this.loadGadgets(hubId, () => {\n                    this.drawWorkers(hubId, coordinate);\n                    // Store hub location to server.\n                    marker.on('dragstart draaging dragend', (e) => {\n                        var str = document.getElementsByClassName('hub-move-button')[0].innerHTML;\n                        var text = str.replace(\"Move\", \"SetLocation\");\n                        document.getElementsByClassName('hub-move-button')[0].innerHTML = text;\n                        document.getElementsByClassName('hub-move-button')[0].onclick = () => {\n                            marker.closeInfoWindow();\n                            marker.config('draggable', false);\n                            this.removeGadgetMarkersWhenHubIsMoved(hubId);\n                            this._updateHubLocation(hubId, e.coordinate.x, e.coordinate.y, () => {\n                                this.loadGadgets(hubId, () => {\n                                    this.drawWorkers(hubId, marker._coordinates);\n                                }), (err) => {\n                                    console.log(\"hub update is failed\", err);\n                                }\n                            });\n                        }\n                    })\n                }, (err) => {\n                    console.log(\"load gadgets failed\", err);\n                });\n                this.map.on('zoomend', (e) => {\n                    this.zoomLv = 50 * (this.map.getZoom() / 11);\n                        marker.updateSymbol({\n                            markerWidth : this.zoomLv,\n                            markerHeight : this.zoomLv\n                    })\n                });\n            });\n        },\n        removeHubMarker(hubId) {\n            // console.debug(`Try remove hub marker, id: ${hubId}`);\n            let hubMarker = this.markerMap.hubs[hubId];\n            if (!this._.isEmpty(hubMarker)) {\n                // remove location in hub model\n                let hub = this.$store.getters.getHub(hubId);\n                if (!this._.isEmpty(hub)) {\n                    delete hub.custom.map_location;\n                    this.services.setHubLocation(hub, this._.noop);\n                    // this._loadHubs();\n                    console.log(\"success to remove hubmarker\");\n                } else {\n                    console.warn(`Failed to clear hub location, cannot found hub model by given id: ${hubId}`);\n                }\n                this.$store.commit('HubIsNotInMap', hubId);\n                hubMarker.remove();\n            } else {\n                console.warn(`Failed to remove hub marker, cannot find marker by given id: ${hubId}`);\n            }\n\n            let hubList = this.$store.getters.getHubsWhichIsInMap,\n                gadgetList = this.$store.getters.getdetectedGadgetList;\n\n            // remove children markers\n\n            this._.forEach(hubList, (hub) => {\n                if (hub.view === window.CONSTANTS.HUB_VIEW.NOT_IN_MAP) {\n                    this._.forEach(gadgetList, (gadget, gid) => {\n                        if (this._.includes(gadget.hubIdList, hubId)) {\n                            if (gadget.hubIdList.length > 1) {\n                            } else {\n                                gadget.view = window.CONSTANTS.HUB_VIEW.NOT_IN_MAP;\n                                delete gadgetList[gid];\n                                this.bcnsData[gid].marker.remove();\n                                delete this.bcnsData[gid];\n                            }\n                            gadget.hubIdList = this._.without(gadget.hubIdList,hubId);\n                        }\n                    })\n                }\n            })\n            // if (_.isEmpty(gadgetList)) {\n            //     location.reload();\n            // }\n            this.hasSameGadget(() => {\n                this._.forEach(hubList, (hub) => {\n                    if (hub.view === window.CONSTANTS.HUB_VIEW.IN_MAP) {\n                        this.drawWorkers(hub.id, this.markerMap.hubs[hub.id]._coordinates);\n                    } \n                })\n            });\n            // delete in cahces\n            delete this.markerMap.hubs[hubId];\n        },\n        removeGadgetMarkersWhenHubIsMoved(hubId) {\n            // console.log(`Try remove hub markers for id: ${hubId}`);\n            let gadgetMarkers = this.markerMap.gadgets[hubId];\n            if (!this._.isEmpty(gadgetMarkers)) {\n                this._.forEach(gadgetMarkers, (marker) => {\n                    marker.remove();\n                    this.markerMap.gadgets[hubId] = {};\n                })\n            } else {\n                \n            }\n\n            // clear in cache.\n            delete this.markerMap.gadgets[hubId];\n        },\n        showHubInfoWindow(hubId, marker) {\n            let context = '',\n                length = null,\n                gadgetList = {};\n            let gadgets = this.$store.getters.getBeaconWithHubs(hubId),\n                hub = this.$store.getters.getHub(hubId);\n            if (!this._.isEmpty(this.infoWindow)) {\n               this.infoWindow.remove();\n            }\n            if (!this._.isEmpty(gadgets)) {\n                this._.forEach(gadgets, (gadget) => {\n                    if (!gadgetList[gadget.gid]) {\n                        gadgetList[gadget.gid] = {};\n                        var name = this.$store.getters.getdetectedGadgetName(gadget.gid);\n                        if (this._.isEmpty(name)) {\n                            context += `<li id=\"${gadget.gid}\">UNKNOWN</li>`;\n                        } else {\n                            context += `<li id=\"${gadget.gid}\">${name}</li>`;\n                        }\n                    } \n                    length = this._.keys(gadgetList).length;\n                })\n            } else {\n                context += '<li>Theres no hub to load</li>';\n                length += 0;\n            }\n            marker.setInfoWindow({ // TODO: vue component\n                content: '<div class=\"worker_menu\">' +\n                    '<div class=\"worker\">' +\n                    '<div class=\"workerId\">' +\n                    '<div class=\"workerkey\">SCANNER</div><div class=\"hubInfo\" title=\"' + hub.name + '\">' + hub.name + '</div></div>' +\n                    '<div class=\"workerCount\"><div class=\"workerkey\">WORKER</div>' + length + '</div>' +\n                    '<div class=\"movebtn\"><button class=\"hub-move-button\">Move</button></div>' +\n                    '<div class=\"removebtn\"><button class=\"hub-remove-button\">Remove</button></div>' +\n                    '</div>' +\n                    '<div class=\"workerInfo\">' + context + '</div>' +\n                    '</div>',\n                'width': 350\n            });\n            marker.openInfoWindow();\n            this.ipcamInfoWindow = marker._infoWindow;\n            this._.forEach(gadgets, (gadget) => {\n                if (!this._.isEmpty(this.bcnsData[gadget.gid])) {\n                    let gadgetData = this.$store.getters.getdetectedGadgetList[gadget.gid];\n                    document.getElementById(gadget.gid).onclick = () => {\n                        this.showGadgetInFoWindow(gadgetData, this.bcnsData[gadget.gid].marker);\n                    }\n                }\n            })\n\n            document.getElementsByClassName('hub-move-button')[0].onclick = () => {\n                var str = document.getElementsByClassName('hub-move-button')[0].innerHTML;\n                var text = str.replace(\"Move\", \"SetLocation\");\n                document.getElementsByClassName('hub-move-button')[0].innerHTML = text;\n                marker.config('draggable', true);\n            }\n\n            document.getElementsByClassName('hub-remove-button')[0].onclick = () => {\n                this.removeHubMarker(hubId);\n            }\n\n            document.getElementsByClassName('maptalks-close')[0].onclick = () => {\n                // marker.updateSymbol({\n                //     markerFile: window.CONSTANTS.URL.BASE_IMG + 'icon-hub-tab.svg'\n                // })\n                marker.config('draggable', false);\n            }\n        },\n        drawWorkers(hubId, coordinate) {\n            let bcns = this._.values(this.$store.getters.getdetectedGadgetList),\n                count = 1;\n            this.zoomLv = 50 * (this.map.getZoom() / 11);\n            this._.forEach(bcns, (beacon, index) => {\n                let marker = null,\n                    customLocation = [];\n                    \n                if ((this._.includes(beacon.hubIdList, hubId))) { // 비콘에 위치정보가 있을시에 draw\n                    if (!!this.bcnsData[beacon.gid] && beacon.view === window.CONSTANTS.HUB_VIEW.IN_MAP) {\n                       this.bcnsData[beacon.gid].marker.remove();\n                    }\n\n                    if (this._.isEmpty(beacon.custom)) {\n                        customLocation.push(coordinate.x, coordinate.y - (count / 10));\n                    } else {\n                        customLocation.push(beacon.custom.x , beacon.custom.y);\n                    }\n\n                    marker = new maptalks.Marker(\n                    customLocation, {\n                        'symbol': {\n                            'markerFile': window.CONSTANTS.URL.BASE_IMG + `icon-worker${beacon.tags}` + '-tab.svg',\n                            'markerWidth': this.zoomLv,\n                            'markerHeight': this.zoomLv\n                        }\n                    }\n                    ).addTo(this.workerLayer);\n                    this.$store.commit('GadgetIsInMap', beacon.gid);\n                    if (!this._.isEmpty(this.bcnsData[beacon.gid])) {\n                        this.bcnsData[beacon.gid].marker = marker;\n                    } else {\n                        this.bcnsData[beacon.gid] = {\n                            marker: marker,\n                            tags: beacon.tags\n                        };\n                    }\n                    if (!this._.includes(this.selectFilteredBeaconsUpdateBefore, this._.first(beacon.tags))) {\n                        marker.hide();\n                        this.$store.commit('GadgetIsnotInMap', beacon.gid);\n                    }\n                    if (_.isEmpty(beacon.tags)) {\n                        marker.updateSymbol('markerFile', window.CONSTANTS.URL.BASE_IMG + 'icon-alert-tab.svg');\n                    }\n                    marker.on('click', () => {\n                        this.showGadgetInFoWindow(beacon, this.bcnsData[beacon.gid].marker);\n                    });\n                    \n                    // add in cache\n                    let markerCache = this.markerMap.gadgets[hubId];\n                    if (!!!markerCache) {\n                        markerCache = [];\n                        this.markerMap.gadgets[hubId] = markerCache;\n                    }\n                    this.map.on('zoomend', (e) => {\n                        this.zoomLv = 50 * (this.map.getZoom() / 11);\n                        marker.updateSymbol({\n                            markerWidth : this.zoomLv,\n                            markerHeight : this.zoomLv\n                        })\n                    });\n                    marker.setZIndex(1);\n                    markerCache.push(marker);\n                    count++;\n                } else {\n                    // console.log(\"bcns\", beacon);\n                }\n            });\n        },\n        showGadgetInFoWindow(gadget, marker) {\n            let gadgetKind = window.CONSTANTS.GADGET_INFO[this.bcnsData[gadget.gid].tags],\n                hubList = this.$store.getters.getdetectedGadgetList[gadget.gid].hubIdList,\n                hubName = null,\n                gadgetImageURL = null,\n                context = '';\n            if (!this._.isEmpty(hubList)) {\n                this._.forEach(hubList, (hub) => {\n                    hubName = this.$store.getters.getHub(hub).name; \n                    context += '<div class=\"scannerName\" title=\"' + hubName +'\">' + hubName + '</div>' \n                })\n                context += '</div>';\n            }\n            marker.setInfoWindow({\n                'content': '<div class=\"bcns\">' +\n                    '<div class=\"bcnsInfo1\">' +\n                    '<div class=\"bcnskey1\">NAME</div>' +\n                    '<div class=\"bcnName1\" title=\"'+ gadget.name +'\">' + gadget.name + '</div>' +\n                    '<div class=\"bcnskey1\">KIND</div>' +\n                    '<div class=\"bcnName1\" title=\"' + gadgetKind +'\">' + gadgetKind + '</div>' +\n                    '<div class=\"scannerData\">SCANNER</div>' +\n                    '<div class=\"scannerNameList\">' +\n                    context +\n                    // '</div>' + '<img class=\"bcnsImg1\" src=\"' + window.CONSTANTS.URL.BASE_IMG + 'item.png\"></img>' +\n                    '</div><div class=\"loader\"><div></div><div></div><div></div><div></div></div>' + '<img class=\"bcnsImg1\" src=\"' + window.CONSTANTS.URL.BASE_IMG + 'item' + gadget.tags +'.png\"></img>' +\n                    '</div>',\n                'width': 400,\n                'bottom': 11\n            });\n            marker.openInfoWindow();\n            const el = this._.first(document.getElementsByClassName('loader'));\n            this.services.getBeaconImg(gadget.gid, (url) => {\n                let imgElement = document.getElementsByClassName('bcnsImg1');\n                if (!!url && !this._.isEmpty(imgElement)) {\n                  imgElement[0].src = url; \n                }\n                if (!!el) {\n                    el.remove(); \n                }\n            }, (err) => {\n                if (!!el) {\n                    el.remove(); \n                }\n            })\n        },\n        loadIpCams() {\n            console.debug('Try load ipcams');\n            this.services.getIpcams((ipcamData) => {\n                this.$store.commit('addIpcams', ipcamData);\n                this.drawIpCams(ipcamData);\n            });\n        },\n        handleAddIPCam(e) {\n            this.showIpCamList((selectedId) => {\n                this.map.closeMenu(selectedId);\n                // draw hub\n                this.drawIpcam(selectedId, this.contextCoordinate);\n            })\n        },\n        showIpCamList(selectedCallback) {\n            this.map.closeMenu();\n            // TODO\n            this.services.getIpcams((camList) => {\n                this.options.items = []; // TODO: destory for GC?\n                let geometry = new maptalks.Marker([this.contextCoordinate.x, this.contextCoordinate.y], {\n                    visible: false\n                }).addTo(this.camLayer);\n                if (!this._.isEmpty(camList)) {\n                    this._.forEach(camList, (cam, index) => {\n                        if (!this._.has(this.markerMap.cams, cam.id)) {\n                            // draw only no location hubs.\n                            if (!!!cam.custom || !!!cam.custom.map_location) {\n                                let itemObj = {\n                                    item: cam.name,\n                                    click: () => {\n                                        selectedCallback(cam.id);\n                                    }\n                                }\n                                if (camList.length - index > 1) {\n                                    this.options.items.push(itemObj, '-');\n                                } else {\n                                    this.options.items.push(itemObj);\n                                }\n                            } else {\n                                console.debug(`The ${cam.name} ipcam has location data. so skip`);\n                            }\n                        }\n                    });\n                    if (this._.isEmpty(this.options.items)) {\n                        let itemObj = {\n                            item: \"No Ipcams\",\n                            click: () => {\n                            }\n                        }\n                        this.options.items.push(itemObj);\n                    }\n                    geometry.setMenu(this.options).openMenu();\n                } else {\n                    let itemObj = {\n                        item: \"No Ipcams to load\"\n                    }\n                    this.options.items.push(itemObj);\n                    geometry.setMenu(this.options).openMenu();\n                }\n            },\n            function(error) {\n                console.warn('Failed to load ipcam list.');\n            });\n        },\n        drawIpCams(camList) {\n            this._.forEach(camList, (ipcam) => {\n                if (!this._.isEmpty(ipcam.custom) || !this._.isEmpty(ipcam.custom.map_location)) {\n                    this.drawIpcam(ipcam.id, ipcam.custom.map_location);\n                }\n            })\n        },\n        drawIpcam(ipcamId, coordinate) {\n            console.debug('Try draw ipcam, id: ', ipcamId);\n            let marker = null;\n            var ipcamData = this.$store.getters.getIpCams(ipcamId);\n            this.zoomLv = 50 * (this.map.getZoom() / 11);\n            let fileUrl = `${window.CONSTANTS.URL.BASE_IMG}icon-ipcam-default.svg`;\n            if (ipcamData.custom.is_visible_moi) {\n                fileUrl = `${window.CONSTANTS.URL.BASE_IMG}icon-ipcam-checked.svg`;\n            }\n            marker = new maptalks.Marker(\n                [coordinate.x, coordinate.y], {\n                    'symbol': {\n                        markerFile: fileUrl,\n                        markerWidth: this.zoomLv,\n                        markerHeight: this.zoomLv,\n                    },\n                    'ZIndex': 3\n                }\n            ).addTo(this.camLayer); \n            marker.on('click', () => {\n                this.showIpcamWindow(ipcamId, marker);\n            })\n            this.markerMap.cams[ipcamId] = marker;\n            ipcamData.custom.map_location = {\n                x : coordinate.x,\n                y : coordinate.y\n            }\n            this._updateIpcamData(ipcamData, () => {\n               this.$store.commit('updateIpcamData', ipcamData);\n            }, (err) => {\n                console.log(\"load ipcam failed\", err);\n            });\n            this.map.on('zoomend', (e) => {\n                this.zoomLv = 50 * (this.map.getZoom() / 11);\n                    marker.updateSymbol({\n                        markerWidth : this.zoomLv,\n                        markerHeight : this.zoomLv\n                })\n            });\n            marker.on('dragstart draaging dragend', (e) => {\n                var str = document.getElementsByClassName('ipcam-move-button')[0].innerHTML;\n                var text = str.replace(\"Move\", \"SetLocation\");\n                document.getElementsByClassName('ipcam-move-button')[0].innerHTML = text;\n                document.getElementsByClassName('ipcam-move-button')[0].onclick = () => {\n                    marker.closeInfoWindow();\n                    marker.config('draggable', false);\n                    var ipcamData = this.store.getters.getIpcams(ipcamId);\n                    ipcamData.custom.map_location = {\n                        x : coordinate.x,\n                        y : coordinate.y\n                    }\n                    this._updateIpcamData(ipcamData, () => {\n                        this.$store.commit('updateIpcamData', ipcamData);\n                    }), (err) => {\n                        console.log(\"ipcam update is failed\", err);\n                    }\n                }\n            });\n        },\n        showIpcamWindow(ipcamId, marker) {\n            let context = '',\n                ipcamData = this.$store.getters.getIpCams(ipcamId),\n                name = null;\n            if (!this._.isEmpty(this.infoWindow)) {\n               this.infoWindow.remove();\n            }\n            if (!this._.isEmpty(ipcamData)) {\n                name = ipcamData.name;\n            } else {\n                name += 'UNKNOWN';\n            }\n            marker.setInfoWindow({ // TODO: vue component\n                'content': '<div class=\"ipcam_menu\">' +\n                    '<div class=\"ipcam\">' +\n                    '<div class=\"ipcamId\">' +\n                    '<div class=\"ipcamKey\">SCANNER</div><div class=\"ipcamInfo\" title=\"' + name + '\">' + name + '</div></div>' +\n                    '<div class=\"movebtn\"><button class=\"ipcam-move-button\">Move</button></div>' +\n                    '<div class=\"removebtn\"><button class=\"ipcam-remove-button\">Remove</button></div>' +\n                    '<div class=\"moi\">MOI System</div>' +\n                    '<label class=\"repeat-onoff-toggle\">'+\n\t                '<input class=\"repeat-toggle-button\" type=\"checkbox\">'+\n\t                '<span class=\"repeat-toggle-slider round\"></span>'+\n                    '</label></div>'+\n                    '<div class=\"ipcam-right-panel\">' +\n                    // '<div class=\"vxgplayer\" id=\"vxg_media_player1\" url=\"rtsp://admin:admin@192.168.1.250\" autostart controls avsync nmf-src=\"pnacl/Release/media_player.nmf\" nmf-path=\"media_player.nmf\" width=\"200\" height=\"250\" ></div></div>' +\n                    // '<div class=\"loader\"><div></div><div></div><div></div><div></div></div>' + \n                    // '<img class=\"ipcamImg1\" src=\"' + window.CONSTANTS.URL.BASE_IMG + 'ipcamImg.png\"></img>' +\n                    '</div></div>',\n                'width': 600\n            });\n            marker.openInfoWindow();\n\n            document.getElementsByClassName('repeat-toggle-button')[0].checked = !!ipcamData.custom.is_visible_moi;\n            document.getElementsByClassName('repeat-toggle-button')[0].onchange = () => {\n                ipcamData.custom.is_visible_moi = document.getElementsByClassName('repeat-toggle-button')[0].checked;\n                let fileUrl = `${window.CONSTANTS.URL.BASE_IMG}icon-ipcam-default.svg`;\n                if (ipcamData.custom.is_visible_moi) {\n                    fileUrl = `${window.CONSTANTS.URL.BASE_IMG}icon-ipcam-checked.svg`;\n                }\n                let marker = this.markerMap.cams[ipcamData.id];\n                if (!!marker) {\n                    marker.updateSymbol({\n                        markerFile: fileUrl\n                    });\n                }\n                this._updateIpcamData(ipcamData, () => {\n                    this.$store.commit('updateIpcamData', ipcamData);\n                }, (err) => {\n                    console.log(\"load ipcam failed\", err);\n                });\n            }\n            document.getElementsByClassName('maptalks-msgBox')[0].style.height = '400px';\n            var playerId = 'vxg_media_player' + new Date().getTime();\n            var div = document.createElement('div');\n            div.setAttribute(\"id\", playerId);\n            div.setAttribute(\"class\", \"mediaplayer vxgplayer\");\n            var runtimePlayers = document.getElementsByClassName('ipcam-right-panel')[0];\n            runtimePlayers.appendChild(div);\n            let url = '';\n            if (!this._.isEmpty(ipcamData.custom)) {\n                url = `rtsp://${ipcamData.custom.id}:${ipcamData.custom.password}@${ipcamData.custom.ip}`\n            }\n            vxgplayer(playerId, {\n                    url: url,\n                    // nmf_path: 'media_player.nmf',\n                    // nmf_src: 'pnacl/Release/media_player.nmf'\n                    // latency: 300000,\n                    // aspect_ratio_mode: 1,\n                    // autohide: 3,\n                    width: 450,\n                    height: 400,\n                    controls: true,\n                    nmf_path: 'media_player.nmf',\n                    nmf_src: 'static/libs/mediaplayer/pnacl/Release/media_player.nmf'\n\n                    // connection_timeout: 5000,\n                    // connection_udp: 0,\n                    // custom_digital_zoom: false\n            }).ready(function(){\n                console.log(' =>ready player '+playerId);\n                vxgplayer(playerId).src(url);\n                vxgplayer(playerId).play();\n                console.log(' <=ready player '+playerId);\n            });\n            var player = vxgplayer(playerId);\n            player.onError(function(player) {\n                console.warn('error', player.error());\n            });\n\n            this.ipcamInfoWindow = marker._infoWindow;\n            \n            document.getElementsByClassName('repeat-toggle-button')[0].checked = !!ipcamData.custom.is_visible_moi;\n            document.getElementsByClassName('repeat-toggle-button')[0].onChange = () => {\n                ipcamData.custom.is_visible_moi = document.getElementsByClassName('repeat-toggle-button')[0].checked;\n                this._updateIpcamData(ipcamData, () => {\n                    this.$store.commit('updateIpcamData', ipcamData);\n                }, (err) => {\n                    console.log(\"load ipcam failed\", err);\n                });\n            }\n            document.getElementsByClassName('ipcam-move-button')[0].onclick = () => {\n                var str = document.getElementsByClassName('ipcam-move-button')[0].innerHTML;\n                var text = str.replace(\"Move\", \"SetLocation\");\n                document.getElementsByClassName('ipcam-move-button')[0].innerHTML = text;\n                marker.config('draggable', true);\n            }\n\n            document.getElementsByClassName('ipcam-remove-button')[0].onclick = () => {\n                this.removeIpcamMarker(ipcamId);\n            }\n\n            document.getElementsByClassName('maptalks-close')[0].onclick = () => {\n                // marker.updateSymbol({\n                //     markerFile: window.CONSTANTS.URL.BASE_IMG + 'icon-ipcam-tab.svg'\n                // })\n                marker.config('draggable', false);\n            }\n\n        },\n        removeIpcamMarker(ipcamId) {\n            let ipcamMarker = this.markerMap.cams[ipcamId];\n            if (!this._.isEmpty(ipcamMarker)) {\n                // remove location in ipcam model\n                let ipcam = this.$store.getters.getIpCams(ipcamId);\n                if (!this._.isEmpty(ipcam)) {\n                    delete ipcam.custom.map_location;\n                    this.services.updateIpcamData(ipcam, () => {\n                        console.log(\"success to remove ipcam marker\");\n                    }, (err) => {\n                        console.warn(`Failed to clear ipcam location, cannot found ipcam model by given id: ${ipcamId}`);\n                    });\n                } else {\n                    console.warn(`Failed to clear ipcam location, cannot found ipcam model by given id: ${ipcamId}`);\n                }\n                ipcamMarker.remove();\n            } else {\n                console.warn(`Failed to remove ipcam marker, cannot find ipcam by given id: ${ipcamId}`);\n            }\n\n            delete this.markerMap.cams[ipcamId];\n        },\n        _updateIpcamData(data, successCallback, failCallback) {\n            this.services.updateIpcamData(data, successCallback, failCallback);\n        },\n        _updateHubLocation(hubId, x, y, readyCallback) {\n            let hub = this.$store.getters.getHub(hubId);\n            if (!!hub && !!x && !!y) {\n                this._.extend(hub, {\n                    custom: {\n                        map_location: {\n                            x: x,\n                            y: y\n                        }\n                    }\n                });\n                // send to server.\n                this.$store.commit('addHubLocation', hub);\n                this.services.setHubLocation(hub, readyCallback);\n            } else {\n                console.warn('Failed to update hub location, given parms cannot be null.', hub, x, y);\n            }\n        },\n        setGadgetLocation(hubList) { // 중복된 가젯들이 들어있는 허브 리스트 목록 받아 위치 값 설정\n            let hubLocation = {},\n                gadgetLocation = {},\n                x = 0,\n                y = 0,\n                gid = null,\n                distratio = 0,\n                first = null,\n                second = null,\n                cnt = 0,\n                datax = null,\n                datay = null;\n            \n            this._.forEach(hubList, (hub) => {\n                // hub -> {'hid': '', 'gid': '', 'dist': '', '_t': ''}\n                let hubInfo = this.$store.getters.getHub(hub.hid); //TODO: name change\n                gid = hub.gid;\n                if (!!hubInfo && !this._.isEmpty(hubInfo.custom)) {\n                    hubLocation[hub.hid] = hubInfo.custom.map_location;\n                    if (!this.isNumber(hubLocation[hub.hid].dist)) {\n                        hubLocation[hub.hid].dist = hub.dist;\n                    }\n                } else {\n                    // console.warn(`There is empty custom in hubid: ${hub.hid}`);\n                }\n            });\n            if (this._.size(hubLocation) === 2 ) {\n                this._.forEach(hubLocation, (hub, hubid) => {\n                    if (cnt === 0) {\n                        first = hub;\n                    } else {\n                        second = hub;\n                    }\n                    if (this.isNumber(hub.dist)) {\n                        distratio += hub.dist;\n                    }\n                    cnt++;\n                })\n                x = (first.x * second.dist + second.x * first.dist) / distratio;\n                y = (first.y * second.dist + second.y * first.dist) / distratio;\n            } else {\n                this._.forEach(hubLocation, (hub, hubid) => {\n                    if (this.isNumber(hub.dist)) {\n                        x += hub.x + (Math.abs(hub.dist) / 200);\n                        y += hub.y + (Math.abs(hub.dist) / 200);\n                    } else {\n                        console.warn(`There is no dist data in hubId: ${hubid}`);\n                    }\n                }) \n                x = x / this._.size(hubLocation);\n                y = y / this._.size(hubLocation);\n            }\n\n            if (!this._.isEmpty(hubLocation)) {\n                this._.forEach(hubList, (hub) => {\n                        gadgetLocation = {\n                            hid: hub.hid,\n                            gid: hub.gid,\n                            x: x,\n                            y: y\n                        }\n                    \n                })\n                this.$store.commit('addGadgetLocation', gadgetLocation);\n            }\n        },\n        hasSameGadget(successCallback) { // 비콘이 여러 허브에 들어있을 경우에 그 허브들의 리스트를 받아옴\n            const gadgetData = this.$store.getters.getdetectedGadgetList,\n                  sameGadgetList = {};\n            this._.forEach(gadgetData, (gadget, gadgetId) => {\n                if (gadget.hubIdList.length > 1) {\n                    sameGadgetList[gadgetId] = {};\n                    sameGadgetList[gadgetId] = gadget.hubIdList;\n                }\n            })\n            let sameGadgetListSize = this._.keys(sameGadgetList).length,\n                gadgetCount = 1;\n            if (sameGadgetListSize == 0) {\n                successCallback();\n            } else {\n                this._.forEach(sameGadgetList, (gadget, gadgetid) => {\n                     this.services.getHubListConnectedToGadget(gadgetid, (hubList) => {\n                        this.setGadgetLocation(hubList.data);\n                        if (sameGadgetListSize == gadgetCount) {\n                            successCallback();\n                        } else {\n                            gadgetCount++;\n                        }\n                    })\n                });\n            }\n        },\n        refilterBeacons() {\n            this.selectFilteredBeaconsUpdateAfter = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\",\n                                          \"11\", \"12\", \"13\", \"14\", \"15\", \"16\"];\n            let detectedGadgetList = this.$store.getters.getdetectedGadgetList;\n            this._.forEach(this.bcnsData, (bcn, gid) => {\n                if (this._.includes(this.selectFilteredBeaconsUpdateAfter, this._.first(bcn.tags))) {\n                    this.bcnsData[gid].marker.show();\n                    this.$store.commit('GadgetIsInMap', gid);\n                }\n            })\n            this.selectFilteredBeaconsUpdateBefore = this._.clone(this.selectFilteredBeaconsUpdateAfter);\n        },\n        setFilteredBeacons() {\n            if (!this._.isEmpty(this.selectFilteredBeaconsUpdateAfter)) {\n                this._.forEach(this.bcnsData, (bcn, gid) => {\n                    if (!this._.includes(this.selectFilteredBeaconsUpdateAfter, this._.first(bcn.tags))) {\n                        this.$store.commit('GadgetIsnotInMap', gid);\n                        bcn.marker.hide();\n                    } else {\n                        this.$store.commit('GadgetIsInMap', gid);\n                        bcn.marker.show();\n                    }\n                })\n            } else {\n                this._.forEach(this.bcnsData, (bcn, gid) => {\n                    this.$store.commit('GadgetIsnotInMap', gid);\n                    bcn.marker.hide();\n                })\n            }\n            this.selectFilteredBeaconsUpdateBefore = this._.clone(this.selectFilteredBeaconsUpdateAfter);\n        },\n        bgChangeWorkerTab(workerNum) {\n            var str = document.getElementById('worker' + workerNum).src,\n                text = str.replace(\"icon-worker\"+workerNum+\".svg\", \"filter-icon-worker\"+workerNum+\"-tab.svg\");\n            document.getElementById('worker' + workerNum).src = text;\n\n            if (!this._.includes(this.selectFilteredBeaconsUpdateAfter, workerNum)) {\n                this.selectFilteredBeaconsUpdateAfter.push(workerNum.toString());\n            }\n            document.getElementById('worker' + workerNum).onclick = () => {\n                this.bgChangeWorker(workerNum);\n            }\n        },\n        bgChangeWorker (workerNum) {\n            var str = document.getElementById('worker' + workerNum).src,\n                text = str.replace(\"filter-icon-worker\"+workerNum+\"-tab.svg\", \"icon-worker\"+workerNum+\".svg\");\n            document.getElementById('worker' + workerNum).src = text;\n\n            this._.forEach(this.selectFilteredBeaconsUpdateAfter, (bcn, index) => {\n                if (bcn === workerNum.toString()) {\n                    this.selectFilteredBeaconsUpdateAfter.splice(index, 1);\n                }\n            });\n            document.getElementById('worker' + workerNum).onclick = () => {\n                this.bgChangeWorkerTab(workerNum);\n            }\n        },\n        filterBeacons() {\n            let context = '<div class=\"filter_menu\"><div>';\n            var coordinate = this.map.getCenter(),\n                filterBeacons = {};\n            coordinate.y -= 3;\n            if (this.selectFilteredBeaconsUpdateAfter.length != window.CONSTANTS.MINIMUM_NUMBER.FILTERED_BEACONS) {\n                this._.forEach(this.gadgetInfoNumber, (index) => {\n                    if (!this._.includes(this.selectFilteredBeaconsUpdateAfter, index)) {\n                       context += '<img id=\"worker' + index + '\" class=\"workerImg\" src=\"' + window.CONSTANTS.URL.BASE_IMG + 'icon-worker' + index + '.svg\" >';\n                    } else {\n                       context += '<img id=\"worker' + index + '\" class=\"workerImg\" src=\"' + window.CONSTANTS.URL.BASE_IMG + 'filter-icon-worker' + index + '-tab.svg\">';\n                    }\n                })\n            } else {\n                this._.forEach(this.gadgetInfoNumber, (index) => {\n                    context += '<img id=\"worker' + index + '\" class=\"workerImg\" src=\"' + window.CONSTANTS.URL.BASE_IMG + 'filter-icon-worker' + index + '-tab.svg\">';\n                }) \n            }\n            context += '</div>' +\n                    '<div class=\"controlContainer\">' +\n                    '<button id=\"done\" class=\"done\">OK</button>'+\n                    '<button id=\"reset\" class=\"reset\">Reset</button>' +\n                    '</div>' +\n                    '</div>';\n            filterBeacons = {\n                        'width' : 700,\n                        'height' : 220,\n                        'autoPan' : true,\n                        'autoCloseOn' : true,\n                        'autoOpenOn' : true,\n                        'content' : context\n            };\n            this.infoWindow = new maptalks.ui.InfoWindow(filterBeacons);\n            this.infoWindow.addTo(this.map).show(coordinate);\n\n            document.getElementById('clickbtnPlus').onclick = () => {\n                this.infoWindow.remove();\n                this.selectFilteredBeaconsUpdateAfter = this._.clone(this.selectFilteredBeaconsUpdateBefore);\n            }\n\n            document.getElementById('clickbtnMinus').onclick = () => {\n                this.infoWindow.remove();\n                this.selectFilteredBeaconsUpdateAfter = this._.clone(this.selectFilteredBeaconsUpdateBefore);\n            }\n\n            document.getElementsByClassName('maptalks-close')[0].onclick = () => {\n                this.refilterBeacons();\n                this.infoWindow.remove();\n            }\n\n            document.getElementsByClassName('done')[0].onclick = () => {\n                this.setFilteredBeacons();\n                this.infoWindow.remove();\n                this.selectFilteredBeaconsUpdateBefore = this._.clone(this.selectFilteredBeaconsUpdateAfter);\n            }\n\n            document.getElementsByClassName('reset')[0].onclick = () => {\n                this.refilterBeacons();\n                this.infoWindow.hide();\n                this.infoWindow.remove();\n            }\n\n            this._.forEach(this.gadgetInfoNumber, (index) => {\n                document.getElementById('worker' + index).onclick = () => {\n                    if (!this._.includes(this.selectFilteredBeaconsUpdateAfter, index)) {\n                        this.bgChangeWorkerTab(index, this.selectFilteredBeaconsUpdateAfter, () => {});\n                    } else {\n                        this.bgChangeWorker(index, this.selectFilteredBeaconsUpdateAfter, () => {});\n                    }\n                }\n            });\n        },\n        showLoading() {\n            this.$emit('map-load', true);\n        },\n        hideLoading() {\n            this.$emit('map-load', false);\n        }\n    },\n    computed: {\n        isEmptyUrl() {\n            return this._.isEmpty(this.mapUrl);\n        }\n    },\n    created() {\n        this.$emit('select-button');\n        EventBus.$on('zoomIn', () => {\n            this.map.zoomIn(7);\n        });\n        EventBus.$on('zoomOut', () => {\n            this.map.zoomOut(6);\n        });\n        EventBus.$on('filter', () => {\n            this.filterBeacons();\n        })\n    },\n    mounted() {\n        this.initloadMap();\n    },\n    mixins: [util]\n}\n</script>\n<style>\nhtml, body {\n    overflow: hidden;\n}\n#map {\n    width: 100%;\n    height: 100%;\n    /* TODO : position absolute? */\n    position: absolute;\n}\n\n#info {\n    position: fixed;\n    background-color: rgba(13, 13, 13, 0.5);\n    padding: 10px 10px 10px 10px;\n    font: 13px bold sans-serif;\n    color: #fff;\n    right: 20px;\n    top: 20px;\n    width: 100px;\n    height: 40px;\n    overflow: hidden\n}\n\n.repeat-onoff-toggle {\n    position: absolute;\n    display: inline-block;\n    width: 43px;\n    height: 20px;\n    left: 33%;\n    top: 68%;\n    margin-top: 1em;\n}\n\n.repeat-toggle-button {\n    display: none;\n}\n\n.repeat-toggle-slider:before {\n    position: absolute;\n    content: \"\";\n    height: 12px;\n    width: 12px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    transition: .6s; \n}\n\n.repeat-toggle-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #999;\n    transition: .6s; \n}\n\n.repeat-toggle-switch input {\n    display: none; \n}\n\ninput:checked + .repeat-toggle-slider {\n    background-color: rgb(87 219 134);\n}\n\ninput:checked + .repeat-toggle-slider:before {\n    transform: translateX(23px); \n}\n\ninput:focus + .repeat-toggle-slider {\n    box-shadow: 0 0 1px #2196F3; \n}\n\n.repeat-toggle-slider.round {\n    border-radius: 34px; \n}\n\n.repeat-toggle-slider.round:before {\n    border-radius: 50%; \n}\n\n.mediaplayer {\n    margin: 0;\n    border: inherit;\n    box-shadow: inherit;\n    padding: 10px;\n    box-sizing: border-box;\n    border-radius: 0 10px 10px 0;\n}\n\n.loader {\n    display: inline-block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin-left: 60%;\n    margin-top: 24%;\n    opacity: 0.6;\n    z-index: 4;\n}\n\n.loader div {\n  position: absolute;\n  top: 27px;\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background: #fff;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n}\n\n.loader div:nth-child(1) {\n  left: 6px;\n  animation: loader1 0.6s infinite;\n}\n\n.loader div:nth-child(2) {\n  left: 6px;\n  animation: loader2 0.6s infinite;\n}\n\n.loader div:nth-child(3) {\n  left: 26px;\n  animation: loader2 0.6s infinite;\n}\n\n.loader div:nth-child(4) {\n  left: 45px;\n  animation: loader3 0.6s infinite;\n}\n\n@keyframes loader1 {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes loader3 {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n\n@keyframes loader2 {\n  0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(19px, 0);\n  }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.moi {\n    font-size: large;\n    font-weight: 350;\n    color: white;\n    margin-top: 60%;\n}\n\n.filter_menu {\n    background: rgb(42 147 240) !important;\n    overflow: hidden;\n    border: none !important;\n    border-radius: 10px;\n    padding: 12px;\n    position: absolute;\n    height: 100%;\n}\n\n.ipcam-right-panel {\n    position: absolute;\n    right: 0;\n    left: 150px;\n    height: 400px;\n}\n.controlContainer {\n    text-align: center;\n}\n\n.reset {\n    font-size: 15px;\n    width: 60px;\n    height: 40px;\n    cursor: pointer;\n    border-radius: 15%;\n    background-color: #e0696d;\n    font-weight: 900;\n    color: #333333;\n    margin: 5px;\n}\n\n.done {\n    font-size: 15px;\n    width: 60px;\n    height: 40px;\n    cursor: pointer;\n    border-radius: 15%;\n    background-color: #87CEEB;\n    font-weight: 900;\n    color: #333333;\n    margin: 5px;\n}\n\n.workerImg {\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    cursor: pointer;\n    margin: 13px;\n}\n\n.hub {\n    width: 50px;\n    height: 50px;\n    margin-bottom: 10px;\n    position: absolute;\n    margin-left: 50px;\n    margin-top: 15px;\n    box-shadow: 3px 3px 1px #aaaaaa;\n}\n\n.maptalks-menu {\n    overflow: scroll !important;\n    max-height: 190px !important;\n    width: 100%;\n    background: rgb(42 147 240) !important;\n    border-radius: 10px;\n    overflow: hidden;\n    border: none !important;\n}\n\n.maptalks-menu .maptalks-menu-items {\n    width: 100%;\n    color: white !important;\n    background: rgb(42 147 240);\n    list-style: none;\n    padding: 0;\n    text-align: center;\n    margin-block-end: 0\n}\n\n.maptalks-menu .maptalks-menu-items li {\n    background: rgb(73 169 243);\n    padding-left: 5px;\n    font-size: 13px;\n    line-height: 24px;\n    white-space: nowrap; \n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.maptalks-menu .maptalks-menu-items li:hover {\n    background: rgb(42 147 240);\n    cursor: pointer\n}\n\n.maptalks-menu .maptalks-menu-items li+li {\n    border-top: 1px solid rgb(42 147 240);\n}\n\n.maptalks-menu .maptalks-menu-items li.maptalks-menu-splitter {\n    height: 1px !important;\n}\n\n.maptalks-msgBox {\n    overflow: visible !important;\n    border: none !important;\n    border-radius: 10px !important;\n    /* background: none !important;\n    background: rgb(57 178 255) !important; */\n}\n\n.maptalks-msgBox a.maptalks-close {\n    width: 25px !important;\n    height: 25px !important;\n    background-size: 13px !important;\n    background-color: rgba(255, 87, 87, 1) !important;\n    background-image: url('../../public/static/location/imgs/close.svg') !important;\n    background-position: center center !important; \n    border-radius: 4px 4px 0 0!important;\n    z-index: -1;\n    top: -25px !important;\n}\n\n.maptalks-msgBox a.maptalks-close:hover {\n    background-color: rgb(93 130 166) !important;\n}\n\n.maptalks-msgBox .maptalks-msgContent {\n    padding: 0 !important;\n}\n\n.maptalks-msgBox em.maptalks-ico {\n    display: none !important;\n}\n\n.maptalks-menu .maptalks-menu-items li.maptalks-menu-splitter {\n    height: 0 !important;\n}\n\n.ipcam_menu {\n    width: 100%;\n    height: 400px;\n    list-style: none;\n    padding: 0;\n    text-align: center;\n    margin-block-start: 0px !important;\n    margin-block-end: 0 !important;\n    border-radius: 10px;\n    overflow: hidden;\n}\n\n.ipcam {\n    height: 400px;\n    width: 150px;\n    position: absolute;\n    background-color: rgb(87 160 134);\n    border-bottom-left-radius: 10px;\n    border-top-left-radius: 10px;\n}\n\n.ipcamId {\n    width: 100px;\n    height: 50px;\n    margin-left: 20px;\n    margin-top: 30px;\n    color: white;\n    text-align: center;\n    overflow: hidden;\n    font-weight: 900;\n    font-size: large\n}\n\n.ipcamKey {\n    font-weight: 300;\n    font-size: small;\n}\n\n.worker_menu {\n    width: 100%;\n    height: 250px;\n    list-style: none;\n    padding: 0;\n    text-align: center;\n    margin-block-start: 0px !important;\n    margin-block-end: 0 !important;\n    border-radius: 10px;\n    overflow: hidden;\n}\n\n.workerInfo {\n    margin-left: 150px;\n    background-color: white;\n    padding-inline-start: 0;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n    height: 250px;\n    overflow-x: none;\n    overflow-y: scroll;\n}\n\n.workerId {\n    width: 100px;\n    height: 50px;\n    margin-left: 20px;\n    margin-top: 30px;\n    color: white;\n    text-align: center;\n    overflow: hidden;\n    font-weight: 900;\n    font-size: large\n}\n\n.workerCount {\n    width: 100px;\n    height: 40px;\n    margin-left: 20px;\n    color: white;\n    text-align: center;\n    overflow: hidden;\n    font-weight: 900;\n    font-size: large;\n}\n\n.workerkey {\n    font-weight: 300;\n    font-size: small;\n}\n\n.workerInfo li {\n    background: white;\n    opacity: 0.5;\n    font-size: 14px;\n    line-height: 40px;\n    width: 200px;\n    height: 40px;\n    font-weight: 900;\n    list-style-type: none\n}\n\n.workerInfo li:hover {\n    background: rgb(42 147 240);\n    opacity: 0.6;\n    cursor: pointer;\n}\n\n::-webkit-scrollbar {\n    display: none;\n}\n\n.workerInfo li+li {\n   border-top: 2px solid rgb(42 147 240)\n}\n\n.worker {\n    height: 250px;\n    width: 150px;\n    margin-right: 230px;\n    position: absolute;\n    background-color: rgb(57 178 255);\n    border-bottom-left-radius: 10px;\n    border-top-left-radius: 10px;\n}\n\n.scannerData {\n    text-align: center;\n    font-size: 12px;\n    padding-top: 20px;\n}\n\n.scannerNameList {\n    height: 60px;\n    overflow: scroll;\n}\n\n.scannerName {\n    text-align: center;\n    font-size: 16px;\n    padding-top: 10px;\n    padding-left: 12px;\n    padding-right: 10px;\n    font-weight: 900;\n    white-space: nowrap; \n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.scannerName[title]:hover::after,\n.scannerName[title]:focus::after {\n    content: attr(title);\n    position: absolute;\n    transform: translate3d(-70%, 50%, 0);\n    width: auto;\n    white-space: nowrap;\n    background: black;\n    opacity: 0.7;\n    color: #fff;\n    border-radius: 2px;\n    box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.4);\n    font-size: 14px;\n    padding: 3px 5px;\n    border-width: 0.5em 0 0.5em 0.5em;\n    border-color: transparent transparent transparent white;\n    -webkit-filter: drop-shadow(1px 2px 1px #bcbcbc);\n    filter: drop-shadow(1px 2px 1px #bcbcbc);\n} \n.bcnskey1 {\n    text-align: center;\n    font-size: 13px;\n    padding-top: 20px;\n}\n\n.bcnskey2 {\n    font-size: 14px;\n    padding-top: 10px;\n    width: 100px;\n    font-weight: 500;\n    position: absolute;\n}\n.hub-remove-button {\n    color: #ffffff;\n    background-color: #87CEEB;\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 15px;\n    border-radius: 15px\n}\n\n.hub-remove-button:hover {\n    color: #ffffff;\n    background-color: rgb(42 147 240);\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 15px;\n    border-radius: 15px\n}\n\n.hub-move-button {\n    color: #ffffff;\n    background-color: #87CEEB;\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 20px;\n    border-radius: 15px\n}\n\n.hub-move-button:hover {\n    color: #ffffff;\n    background-color: rgb(42 147 240);\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 20px;\n    border-radius: 15px;\n}\n\n.ipcam-remove-button {\n    color: #ffffff;\n    background-color: rgb(87 200 134);\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 15px;\n    border-radius: 15px;\n    line-height: initial !important;\n}\n\n.ipcam-remove-button:hover {\n    color: #ffffff;\n    background-color: rgb(42 180 240);\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 15px;\n    border-radius: 15px;\n    line-height: initial !important;\n}\n\n.ipcam-move-button {\n    color: #ffffff;\n    background-color: rgb(87 200 134);\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 20px;\n    border-radius: 15px;\n    line-height: initial !important;\n}\n\n.ipcam-move-button:hover {\n    color: #ffffff;\n    background-color: rgb(42 180 240);\n    border: solid 1px #00BFFF;\n    text-decoration: none;\n    display: inline-block;\n    cursor: pointer;\n    margin-top: 20px;\n    border-radius: 15px;\n    line-height: initial !important;\n}\n.hubInfo {\n    white-space: nowrap; \n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.hubInfo[title]:hover::after,\n.hubInfo[title]:focus::after {\n    content: attr(title);\n    position: absolute;\n    transform: translate3d(-80%, 0, 0);\n    z-index: 1;\n    width: auto;\n    white-space: nowrap;\n    background: black;\n    opacity: 0.7;;\n    color: #fff;\n    border-radius: 2px;\n    box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.4);\n    font-size: 14px;\n    padding: 3px 5px;\n    border-width: 0.5em 0 0.5em 0.5em;\n    border-color: transparent transparent transparent white;\n    -webkit-filter: drop-shadow(1px 2px 1px #bcbcbc);\n    filter: drop-shadow(1px 2px 1px #bcbcbc);\n} \n\n.bcnName1 {\n    text-align: center;\n    font-size: 16px;\n    padding-top: 10px;\n    padding-left: 10px;\n    padding-right: 10px;\n    font-weight: 900;\n    white-space: nowrap; \n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n\n/* .bcnName1[title]:hover:before {\n    content: attr(title);\n    position: absolute;\n      top: 60%;\n      margin-top: 10px;\n      padding: .55rem 1rem;\n      font-size: 1rem;\n      font-weight: 500;\n      white-space: nowrap;\n      color: #000;\n      border-radius: 50px;\n      background-color: #fff;\n      box-shadow: 0 15px 35px rgba(50, 50, 93, 0.1),\n        0 5px 15px rgba(0, 0, 0, 0.07);\n\n      pointer-events: none;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      opacity: 0;\n      transition: all 0.2s ease-in-out;\n} */\n\n.bcnName1[title]:hover::after,\n.bcnName1[title]:focus::after {\n    content: attr(title);\n    position: absolute;\n    transform: translate3d(0, 50%, 0);\n    width: auto;\n    white-space: nowrap;\n    background: black;\n    opacity: 0.7;;\n    color: #fff;\n    border-radius: 2px;\n    box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.4);\n    font-size: 14px;\n    padding: 3px 5px;\n    border-width: 0.5em 0 0.5em 0.5em;\n    border-color: transparent transparent transparent white;\n    -webkit-filter: drop-shadow(1px 2px 1px #bcbcbc);\n    filter: drop-shadow(1px 2px 1px #bcbcbc);\n} \n\n.bcnName2 {\n    text-align: left;\n    font-size: 20px;\n    width: 370px;\n    height: 30px;\n    margin-top: 25px;\n    padding-top: 5px;\n    margin-left: 30px;\n    position: absolute;\n}\n\n.ipcamImg1 {\n    height: 252px;\n    width: 211px;\n    margin-left: 150px;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n}\n\n.bcnsImg1 {\n    height: 250px;\n    width: 260px;\n    margin-left: 140px;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n}\n\n.bcnsImg2 {\n    height: 250px;\n    width: 400px;\n    border-radius: 10px;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n}\n\n.bcnsInfo1 {\n    width: 140px;\n    height: 250px;\n    color: black;\n    font-weight: bold;\n    background-color: rgb(255, 181, 48);\n    font-size: large;\n    position: absolute;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n}\n\n.bcnsInfo2 {\n    margin-top: 190px;\n    width: 400px;\n    height: 60px;\n    color: white;\n    font-weight: bold;\n    background-color: rgb(93, 224, 219);\n    font-size: large;\n    position: absolute;\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n}\n\n.ipcam-content {\n    height: 200px\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=60c7c61e&\"\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"topContainer\"}},[_c('div',{attrs:{\"id\":\"leftContainer\"}},[_c('div',{attrs:{\"id\":\"zoom\"}},[_c('img',{attrs:{\"id\":\"clickbtnPlus\",\"src\":\"static/location/imgs/icon-plus.svg\"},on:{\"click\":_vm.zoomIn}}),_c('img',{attrs:{\"id\":\"clickbtnMinus\",\"src\":\"static/location/imgs/icon-minus.svg\"},on:{\"click\":_vm.zoomOut}})]),_c('div',{attrs:{\"id\":\"filter\"}},[_c('img',{attrs:{\"id\":\"clickbtnFilter\",\"src\":\"static/location/imgs/icon-filter.svg\"},on:{\"click\":_vm.filter}})])]),_c('div',{attrs:{\"id\":\"rightContainer\"}},[_c('div',{attrs:{\"id\":\"upload\"}},[_c('button',{attrs:{\"id\":\"clickbtn\"},on:{\"click\":function($event){return _vm.$refs.file.click()}}},[_vm._m(0)]),_c('input',{ref:\"file\",attrs:{\"type\":\"file\",\"id\":\"file\",\"accept\":\"image/jpeg, image/png, image/gif\"},on:{\"change\":_vm.onFileChange}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"btntitle\"}},[_vm._v(\"Upload \"),_c('i',{staticClass:\"fa fa-upload\"})])}]\n\nexport { render, staticRenderFns }","<template>\n<div id=\"topContainer\">\n    <div id=\"leftContainer\">\n        <div id=\"zoom\">\n            <img id=\"clickbtnPlus\" src=\"static/location/imgs/icon-plus.svg\" @click=\"zoomIn\">\n            <img id=\"clickbtnMinus\" src=\"static/location/imgs/icon-minus.svg\" @click=\"zoomOut\">\n        </div>\n        <div id=\"filter\">\n            <img id=\"clickbtnFilter\" src=\"static/location/imgs/icon-filter.svg\" @click=\"filter\">\n        </div>\n        </div>\n        <div id=\"rightContainer\">\n        <div id=\"upload\">\n            <button id=\"clickbtn\" @click=\"$refs.file.click()\">\n                <div id=\"btntitle\">Upload <i class=\"fa fa-upload\"></i></div>\n            </button>\n            <input type=\"file\" id=\"file\" ref=\"file\" @change=\"onFileChange\"\n                accept=\"image/jpeg, image/png, image/gif\" />\n        </div>\n    </div>\n</div>\n</template>\n<script>\nimport { EventBus } from \"../main\";\nexport default {\n    name: 'Top',\n    methods: {\n        zoomIn() {\n            EventBus.$emit('zoomIn');\n        },\n        zoomOut() {\n            EventBus.$emit('zoomOut');\n        },\n        onFileChange(e) {\n            this.file = e.target.files[0];\n            this.submitFile();\n        },\n        getMapFile(successCallback) {\n            this.services.getMapFile;\n        },\n        submitFile() {\n            this.services.postMapFile(this.file, (url) => {\n                window.location.reload();\n            }, (err) => {\n                console.warn(`File upload failed`);\n            });\n        },\n        handleFileUpload() {\n            this.file = this.$refs.file.files[0];\n        },\n        filter() {\n            EventBus.$emit('filter');\n        }\n    },\n    computed: {\n        isEmptyUrl() {\n            return !!!this.url;\n        },\n    },\n    created() {\n        this.getMapFile();\n    }\n}\n</script>\n\n<style>\n#topContainer {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\n#leftContainer {\n    width: 50%;\n    display: inline-block;\n}\n\n#rightContainer {\n    width: 50%;\n    text-align: right;\n    display: inline-block;\n    position: absolute;\n}\n\n/*  Zoom */\n#zoom {\n    display: inline-block;\n}\n\n#clickbtnPlus {\n    margin: 0 5px;\n    border-radius: 100%;\n    cursor: pointer;\n    height: 2vw;\n    width: 2vw;\n    min-width: 20px;\n    min-height: 20px;\n    border: 1px solid rgb(85, 185, 250);\n    background-color: rgb(85, 185, 250);\n}\n\n#clickbtnMinus {\n    margin: 0 5px;\n    border-radius: 100%;\n    cursor: pointer;\n    height: 2vw;\n    width: 2vw;\n    min-width: 20px;\n    min-height: 20px;\n    border: 1px solid rgb(85, 185, 250);\n    background-color: rgb(85, 185, 250);\n}\n\n/*  Upload Button */\ninput[type='file'] {\n    display: none;\n}\n\n#clickbtn {\n    display: inline-block;\n    font-size: 1vw;\n    font-weight: 600;\n    border-radius: 15px;\n    cursor: pointer;\n    height: 2vw;\n    width: 6vw;\n    min-width: 80px;\n    min-height: 25px;\n    border: 1px solid rgb(85, 185, 250);\n    color: rgb(85, 185, 250)\n}\n\n/*  Beacon Filter */\n#filter {\n    display: inline-block;\n}\n\n#clickbtnFilter {\n    border-radius: 100%;\n    cursor: pointer;\n     height: 2vw;\n    width: 2vw;\n    min-width: 20px;\n    min-height: 20px;\n    margin: 0 5px;\n    border: 1px solid rgb(85, 185, 250);\n    background-color: rgb(85, 185, 250);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./top.vue?vue&type=template&id=455a40a2&\"\nimport script from \"./top.vue?vue&type=script&lang=js&\"\nexport * from \"./top.vue?vue&type=script&lang=js&\"\nimport style0 from \"./top.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div id=\"locationTracking\">\n  <div v-show=\"isLoaded\" class=\"loading\"><div class=\"main-loader\"><div></div><div></div><div></div><div></div></div></div>\n  <Top></Top>\n  <Map @map-load=\"handleMapLoad\"></Map>\n</div>\n</template>\n<script>\nimport Map from '@/components/map';\nimport Top from '@/components/top';\nexport default {\n  components: {\n    Map,\n    Top\n  },\n  data() {\n    return {\n      isLoaded: false\n    }\n  },\n  methods: {\n    handleMapLoad(isLoaded) {\n      this.isLoaded = isLoaded;\n    }\n  }\n}\n</script>\n<style>\n#locationTracking {\n  height: 100%;\n  width: 100%;\n  /*------------ This CSS are required when npm run build -----------*/\n  position: relative;\n}\n\n.loading {\n  width: 100%;\n  position: fixed;\n  background-color: white;\n  height: 105%;\n  z-index: 3;\n  opacity: 0.7;\n   /*------------ This CSS are required when npm run build -----------*/\n  position: relative;\n}\n\n.main-loader {\n  display: inline-block;\n  position: absolute;\n  width: 100px;\n  height: 100px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  opacity: 1;\n  z-index: 4;\n}\n.main-loader div {\n  position: absolute;\n  top: 27px;\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background: black;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n}\n.main-loader div:nth-child(1) {\n  left: 6px;\n  animation: loader1 0.6s infinite;\n}\n.main-loader div:nth-child(2) {\n  left: 6px;\n  animation: loader2 0.6s infinite;\n}\n.main-loader div:nth-child(3) {\n  left: 26px;\n  animation: loader2 0.6s infinite;\n}\n.main-loader div:nth-child(4) {\n  left: 45px;\n  animation: loader3 0.6s infinite;\n}\n@keyframes main-loader1 {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@keyframes main-loader3 {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n@keyframes main-loader2 {\n  0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(19px, 0);\n  }\n}\n\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=63b571c8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        hubs: {},\n        gadgets: {},\n        detectedgadgets: {},\n        forInfohubs: [],\n        drawnHubs: {},\n        ipcams: {}\n    },\n    getters: {\n        getHubs: (state) => {\n            return _.values(state.hubs);\n        },\n        getHub: (state) => (hid) => {\n            if (!_.isEmpty(state.hubs[hid])) {\n                return state.hubs[hid];\n            } else {\n                console.warn(`Theres no hub data in hubid ${hid}`);\n            }\n        },\n        getHubsWhichIsInMap: (state) => {\n            return _.values(state.drawnHubs);\n        },\n        getBeaconWithHubs: (state) => (hid) => {\n            if (!_.isEmpty(state.forInfohubs[hid])) {\n                return state.forInfohubs[hid];\n            } else {\n                console.warn(`Theres no hub data in hubid ${hid}`);\n            }\n        },\n        getdetectedGadgetList: (state) => {\n            return state.detectedgadgets;\n        },\n        getdetectedGadgetName: (state) => (detectedGadgetId) => {\n            if (!!state.detectedgadgets[detectedGadgetId]) {\n                return state.detectedgadgets[detectedGadgetId].name;\n            } else {\n                return \"\";\n            }\n        },\n        getIpCams: (state) => (ipcamId) => {\n            if (!!state.ipcams[ipcamId]) {\n                return state.ipcams[ipcamId];\n            } else {\n                console.warn(`Theres no ipcam data in ipcam id ${ipcamId}`);\n            }\n        }\n    },\n    mutations: {\n        addHubs(state, payload) {\n            _.forEach(payload, hub => {\n                state.hubs[hub.id] = hub;\n            });\n        },\n        HubIsInMap(state, payload) {\n            if (_.isEmpty(state.drawnHubs[payload])) {\n                state.drawnHubs[payload] = {};\n            }\n            state.drawnHubs[payload].id = payload;\n            state.drawnHubs[payload].view = 1;\n        },\n        HubIsNotInMap(state, payload) {\n            if (_.isEmpty(state.drawnHubs[payload])) {\n                state.drawnHubs[payload] = {};\n            }\n            state.drawnHubs[payload].id = payload;\n            state.drawnHubs[payload].view = 0;\n        },\n        addDetectedGadget(state, payload) {\n            _.forEach(payload, bcn => {\n                state.gadgets[bcn.id] = bcn;\n            })\n        },\n        addDetectedHubGadget(state, payload) {\n            _.forEach(payload, detectedGadget => {\n                if (_.has(state.gadgets, detectedGadget.gid)) {\n                    let data = state.gadgets[detectedGadget.gid];\n                    if (_.isEmpty(state.detectedgadgets[detectedGadget.gid])) {\n                        state.detectedgadgets[detectedGadget.gid] = {\n                            gid: data.id,\n                            hubIdList: [],\n                            name: data.name,\n                            dist: detectedGadget.dist,\n                            uuid: data.beacon_spec.uuid,\n                            major: data.beacon_spec.major,\n                            minor: data.beacon_spec.minor,\n                            custom: {},\n                            tags: data.tags,\n                            view: 0,\n                            account_id: data.account_id\n                        }\n                    }\n\n                    state.forInfohubs[detectedGadget.hid] = payload;\n                    if (_.isEmpty(state.detectedgadgets[detectedGadget.gid].hubIdList.find((hid) => hid === detectedGadget.hid))) {\n                        state.detectedgadgets[detectedGadget.gid].hubIdList.push(detectedGadget.hid);\n                    }\n                }\n            })\n        },\n        addHubLocation(state, payload) {\n            let hubList = state.hubs[payload.id];\n            if (!_.isEmpty(hubList)) {\n                hubList.custom.map_location = payload.custom.map_location;\n            }\n        },\n        addGadgetLocation(state, payload) {\n            let gadgetList = state.gadgets[payload.gid],\n                detectedGadgetList = state.detectedgadgets[payload.gid];\n            if (!_.isEmpty(gadgetList) && !_.isUndefined(detectedGadgetList)) {\n                gadgetList.custom = _.pick(payload, ['x', 'y']);\n                detectedGadgetList.custom = _.pick(payload, ['x', 'y']);\n            }\n        },\n        GadgetIsInMap(state, payload) {\n            if (state.detectedgadgets[payload]) {\n                state.detectedgadgets[payload].view = window.CONSTANTS.HUB_VIEW.IN_MAP;\n            }\n        },\n        GadgetIsnotInMap(state, payload) {\n            if (!_.isEmpty(state.detectedgadgets[payload])) {\n                state.detectedgadgets[payload].view = window.CONSTANTS.HUB_VIEW.NOT_IN_MAP;\n            }\n        },\n        removeGadgets(state) {\n            _.forEach(state.gadgets, (gadget, gid) => {\n                state.gadgets[gid] = {};\n                Vue.delete(state.gadgets, gid);\n            });\n            _.forEach(state.detectedgadgets, (gadget, gid) => {\n                state.detectedgadgets[gid] = {};\n                Vue.delete(state.detectedgadgets, gid);\n            });\n        },\n        removeHubs(state) {\n            _.forEach(state.forInfohubs, (gadgets, hid) => {\n                state.forInfohubs[hid] = {};\n                Vue.delete(state.forInfohubs, hid);\n            })\n        },\n        addIpcams(state, payload) {\n            _.forEach(payload, (ipcam) => {\n                state.ipcams[ipcam.id] = ipcam;\n            })\n        },\n        updateIpcamData(state, payload) {\n            if (!!state.ipcams[payload.id]) {\n                state.ipcams[payload.id] = payload;\n            }\n        }\n    }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport axios from 'axios'\nimport VueLodash from 'vue-lodash'\nimport 'maptalks/dist/maptalks.css'\nimport store from './store';\nimport '@/services/constant.js';\nimport * as services from '@/services/services.js';\nimport * as beaconDetector from '@/services/beacon-detector.js';\n\nVue.prototype.$http = axios;\nVue.prototype.services = services;\nVue.prototype.beaconDetector = beaconDetector;\nVue.config.productionTip = false;\n\nexport const EventBus = new Vue({});\n\nVue.use(VueLodash);\nnew Vue({\n  store,\n  render: h => h(App)\n}).$mount('#locationTracking')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}